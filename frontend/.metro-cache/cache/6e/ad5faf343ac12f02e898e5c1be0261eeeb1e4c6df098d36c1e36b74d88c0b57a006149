{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useRoadPassability\", {\n    enumerable: true,\n    get: function () {\n      return useRoadPassability;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _apiConfig = require(_dependencyMap[3]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for assessing road passability conditions\n   * \n   * Features:\n   * - Comprehensive risk assessment (mud, ice, clearance)\n   * - Vehicle recommendations\n   * - Pure deterministic calculations\n   * \n   * Usage:\n   * ```\n   * const { assess, loading, result, error } = useRoadPassability();\n   * \n   * const assessment = await assess({\n   *   precip_72h: 50,\n   *   slope_pct: 8,\n   *   min_temp_f: 32,\n   *   soil_type: 'clay',\n   * });\n   * ```\n   */\n  var useRoadPassability = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var assess = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/road-passability`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              precip_72h: request.precip_72h,\n              slope_pct: request.slope_pct,\n              min_temp_f: request.min_temp_f,\n              soil_type: request.soil_type,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires Routecast Pro. Upgrade to unlock.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error assessing road conditions';\n          setError(errorMessage);\n          console.error('[RoadPassability] Assessment error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function assess(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      assess,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":119,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"useRoadPassability"],[15,31,59,0],[16,4,59,0],[17,2,59,0],[18,2,134,2],[18,6,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,134,2],[18,45,134,2,"require"],[18,52,134,2],[18,53,134,2,"_dependencyMap"],[18,67,134,2],[19,2,134,2],[19,6,134,2,"_asyncToGenerator"],[19,23,134,2],[19,26,134,2,"_interopDefault"],[19,41,134,2],[19,42,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,134,2],[20,2,134,2],[20,6,134,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,134,2],[20,42,134,2,"require"],[20,49,134,2],[20,50,134,2,"_dependencyMap"],[20,64,134,2],[21,2,134,2],[21,6,134,2,"_slicedToArray"],[21,20,134,2],[21,23,134,2,"_interopDefault"],[21,38,134,2],[21,39,134,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,134,2],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_apiConfig"],[23,16,2,0],[23,19,2,0,"require"],[23,26,2,0],[23,27,2,0,"_dependencyMap"],[23,41,2,0],[24,2,3,0],[24,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,3,0],[24,45,3,0,"require"],[24,52,3,0],[24,53,3,0,"_dependencyMap"],[24,67,3,0],[25,2,3,0],[25,6,3,0,"AsyncStorage"],[25,18,3,0],[25,21,3,0,"_interopDefault"],[25,36,3,0],[25,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,3,0],[26,2,39,0],[27,0,40,0],[28,0,41,0],[29,0,42,0],[30,0,43,0],[31,0,44,0],[32,0,45,0],[33,0,46,0],[34,0,47,0],[35,0,48,0],[36,0,49,0],[37,0,50,0],[38,0,51,0],[39,0,52,0],[40,0,53,0],[41,0,54,0],[42,0,55,0],[43,0,56,0],[44,0,57,0],[45,0,58,0],[46,2,59,7],[46,6,59,13,"useRoadPassability"],[46,24,59,31],[46,27,59,34,"useRoadPassability"],[46,28,59,34],[46,33,59,66],[47,4,60,2],[47,8,60,2,"_useState"],[47,17,60,2],[47,20,60,32],[47,24,60,32,"useState"],[47,30,60,40],[47,31,60,40,"useState"],[47,39,60,40],[47,41,60,41],[47,46,60,46],[47,47,60,47],[48,6,60,47,"_useState2"],[48,16,60,47],[48,23,60,47,"_slicedToArray"],[48,37,60,47],[48,38,60,47,"default"],[48,45,60,47],[48,47,60,47,"_useState"],[48,56,60,47],[49,6,60,9,"loading"],[49,13,60,16],[49,16,60,16,"_useState2"],[49,26,60,16],[50,6,60,18,"setLoading"],[50,16,60,28],[50,19,60,28,"_useState2"],[50,29,60,28],[51,4,61,2],[51,8,61,2,"_useState3"],[51,18,61,2],[51,21,61,28],[51,25,61,28,"useState"],[51,31,61,36],[51,32,61,36,"useState"],[51,40,61,36],[51,42,61,52],[51,46,61,56],[51,47,61,57],[52,6,61,57,"_useState4"],[52,16,61,57],[52,23,61,57,"_slicedToArray"],[52,37,61,57],[52,38,61,57,"default"],[52,45,61,57],[52,47,61,57,"_useState3"],[52,57,61,57],[53,6,61,9,"error"],[53,11,61,14],[53,14,61,14,"_useState4"],[53,24,61,14],[54,6,61,16,"setError"],[54,14,61,24],[54,17,61,24,"_useState4"],[54,27,61,24],[55,4,62,2],[55,8,62,2,"_useState5"],[55,18,62,2],[55,21,62,30],[55,25,62,30,"useState"],[55,31,62,38],[55,32,62,38,"useState"],[55,40,62,38],[55,42,62,71],[55,46,62,75],[55,47,62,76],[56,6,62,76,"_useState6"],[56,16,62,76],[56,23,62,76,"_slicedToArray"],[56,37,62,76],[56,38,62,76,"default"],[56,45,62,76],[56,47,62,76,"_useState5"],[56,57,62,76],[57,6,62,9,"result"],[57,12,62,15],[57,15,62,15,"_useState6"],[57,25,62,15],[58,6,62,17,"setResult"],[58,15,62,26],[58,18,62,26,"_useState6"],[58,28,62,26],[59,4,64,2],[59,8,64,8,"assess"],[59,14,64,14],[60,6,64,14],[60,10,64,14,"_ref"],[60,14,64,14],[60,21,64,14,"_asyncToGenerator"],[60,38,64,14],[60,39,64,14,"default"],[60,46,64,14],[60,48,64,17],[60,59,65,4,"request"],[60,66,65,35],[60,68,66,41],[61,8,67,4,"setLoading"],[61,18,67,14],[61,19,67,15],[61,23,67,19],[61,24,67,20],[62,8,68,4,"setError"],[62,16,68,12],[62,17,68,13],[62,21,68,17],[62,22,68,18],[63,8,70,4],[63,12,70,8],[64,10,71,6],[65,10,72,6],[65,14,72,10,"subscriptionId"],[65,28,72,24],[65,31,72,27,"request"],[65,38,72,34],[65,39,72,35,"subscription_id"],[65,54,72,50],[66,10,73,6],[66,14,73,10],[66,15,73,11,"subscriptionId"],[66,29,73,25],[66,31,73,27],[67,12,74,8,"subscriptionId"],[67,26,74,22],[67,35,74,31,"AsyncStorage"],[67,47,74,43],[67,48,74,43,"default"],[67,55,74,43],[67,56,74,44,"getItem"],[67,63,74,51],[67,64,74,52],[67,91,74,79],[67,92,74,80],[68,10,75,6],[69,10,77,6],[69,14,77,12,"response"],[69,22,77,20],[69,31,77,29,"fetch"],[69,36,77,34],[69,37,77,35],[69,40,77,38,"API_BASE"],[69,50,77,46],[69,51,77,46,"API_BASE"],[69,59,77,46],[69,86,77,73],[69,88,77,75],[70,12,78,8,"method"],[70,18,78,14],[70,20,78,16],[70,26,78,22],[71,12,79,8,"headers"],[71,19,79,15],[71,21,79,17],[72,14,80,10],[72,28,80,24],[72,30,80,26],[73,12,81,8],[73,13,81,9],[74,12,82,8,"body"],[74,16,82,12],[74,18,82,14,"JSON"],[74,22,82,18],[74,23,82,19,"stringify"],[74,32,82,28],[74,33,82,29],[75,14,83,10,"precip_72h"],[75,24,83,20],[75,26,83,22,"request"],[75,33,83,29],[75,34,83,30,"precip_72h"],[75,44,83,40],[76,14,84,10,"slope_pct"],[76,23,84,19],[76,25,84,21,"request"],[76,32,84,28],[76,33,84,29,"slope_pct"],[76,42,84,38],[77,14,85,10,"min_temp_f"],[77,24,85,20],[77,26,85,22,"request"],[77,33,85,29],[77,34,85,30,"min_temp_f"],[77,44,85,40],[78,14,86,10,"soil_type"],[78,23,86,19],[78,25,86,21,"request"],[78,32,86,28],[78,33,86,29,"soil_type"],[78,42,86,38],[79,14,87,10,"subscription_id"],[79,29,87,25],[79,31,87,27,"subscriptionId"],[80,12,88,8],[80,13,88,9],[81,10,89,6],[81,11,89,7],[81,12,89,8],[82,10,91,6],[82,14,91,10],[82,15,91,11,"response"],[82,23,91,19],[82,24,91,20,"ok"],[82,26,91,22],[82,28,91,24],[83,12,92,8],[83,16,92,14,"errorData"],[83,25,92,23],[83,34,92,32,"response"],[83,42,92,40],[83,43,92,41,"json"],[83,47,92,45],[83,48,92,46],[83,49,92,47],[84,12,93,8],[84,18,93,14],[84,22,93,18,"Error"],[84,27,93,23],[84,28,94,10,"errorData"],[84,37,94,19],[84,38,94,20,"detail"],[84,44,94,26],[84,48,94,30],[84,62,94,44,"response"],[84,70,94,52],[84,71,94,53,"status"],[84,77,94,59],[84,79,95,8],[84,80,95,9],[85,10,96,6],[86,10,98,6],[86,14,98,12,"data"],[86,18,98,41],[86,27,98,50,"response"],[86,35,98,58],[86,36,98,59,"json"],[86,40,98,63],[86,41,98,64],[86,42,98,65],[88,10,100,6],[89,10,101,6],[89,14,101,10,"data"],[89,18,101,14],[89,19,101,15,"is_premium_locked"],[89,36,101,32],[89,38,101,34],[90,12,102,8,"setError"],[90,20,102,16],[90,21,103,10,"data"],[90,25,103,14],[90,26,103,15,"premium_message"],[90,41,103,30],[90,45,104,10],[90,102,105,8],[90,103,105,9],[91,10,106,6],[92,10,108,6,"setResult"],[92,19,108,15],[92,20,108,16,"data"],[92,24,108,20],[92,25,108,21],[93,10,109,6],[93,17,109,13,"data"],[93,21,109,17],[94,8,110,4],[94,9,110,5],[94,10,110,6],[94,17,110,13,"err"],[94,20,110,16],[94,22,110,18],[95,10,111,6],[95,14,111,12,"errorMessage"],[95,26,111,24],[95,29,112,8,"err"],[95,32,112,11],[95,44,112,23,"Error"],[95,49,112,28],[95,52,112,31,"err"],[95,55,112,34],[95,56,112,35,"message"],[95,63,112,42],[95,66,112,45],[95,107,112,86],[96,10,113,6,"setError"],[96,18,113,14],[96,19,113,15,"errorMessage"],[96,31,113,27],[96,32,113,28],[97,10,114,6,"console"],[97,17,114,13],[97,18,114,14,"error"],[97,23,114,19],[97,24,114,20],[97,61,114,57],[97,63,114,59,"errorMessage"],[97,75,114,71],[97,76,114,72],[98,10,116,6],[98,16,116,12,"err"],[98,19,116,15],[99,8,117,4],[99,9,117,5],[99,18,117,14],[100,10,118,6,"setLoading"],[100,20,118,16],[100,21,118,17],[100,26,118,22],[100,27,118,23],[101,8,119,4],[102,6,120,2],[102,7,120,3],[103,6,120,3],[103,22,64,8,"assess"],[103,28,64,14,"assess"],[103,29,64,14,"_x"],[103,31,64,14],[104,8,64,14],[104,15,64,14,"_ref"],[104,19,64,14],[104,20,64,14,"apply"],[104,25,64,14],[104,32,64,14,"arguments"],[104,41,64,14],[105,6,64,14],[106,4,64,14],[106,7,120,3],[107,4,122,2],[107,8,122,8,"clearResult"],[107,19,122,19],[107,22,122,22,"clearResult"],[107,23,122,22],[107,28,122,28],[108,6,123,4,"setResult"],[108,15,123,13],[108,16,123,14],[108,20,123,18],[108,21,123,19],[109,6,124,4,"setError"],[109,14,124,12],[109,15,124,13],[109,19,124,17],[109,20,124,18],[110,4,125,2],[110,5,125,3],[111,4,127,2],[111,11,127,9],[112,6,128,4,"assess"],[112,12,128,10],[113,6,129,4,"loading"],[113,13,129,11],[114,6,130,4,"error"],[114,11,130,9],[115,6,131,4,"result"],[115,12,131,10],[116,6,132,4,"clearResult"],[117,4,133,2],[117,5,133,3],[118,2,134,0],[118,3,134,1],[119,0,134,2],[119,3]],"functionMap":{"names":["<global>","useRoadPassability","assess","clearResult"],"mappings":"AAA;kCC0D;iBCK;GDwD;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}