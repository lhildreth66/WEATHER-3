{"dependencies":[{"name":"./constructFrom.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":13,"index":70},"end":{"line":3,"column":43,"index":100}}],"key":"lWAzHXxfZVR7kcmHfzw46grW6jc="}},{"name":"./isSaturday.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":14,"index":116},"end":{"line":4,"column":41,"index":143}}],"key":"boG0cFqmiOvBz2zxUjjo2i9vwHo="}},{"name":"./isSunday.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":14,"index":159},"end":{"line":5,"column":39,"index":184}}],"key":"VHJHOBu5k5E50IESusnvqOfO238="}},{"name":"./isWeekend.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":14,"index":200},"end":{"line":6,"column":40,"index":226}}],"key":"bi+Y/Lg1bgeToEdhHlEu6lpLFVw="}},{"name":"./toDate.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":14,"index":242},"end":{"line":7,"column":37,"index":265}}],"key":"iNYia4k2FtOBaB7z4SzN507pchY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.addBusinessDays = addBusinessDays;\n  var _index = require(_dependencyMap[0], \"./constructFrom.cjs\");\n  var _index2 = require(_dependencyMap[1], \"./isSaturday.cjs\");\n  var _index3 = require(_dependencyMap[2], \"./isSunday.cjs\");\n  var _index4 = require(_dependencyMap[3], \"./isWeekend.cjs\");\n  var _index5 = require(_dependencyMap[4], \"./toDate.cjs\");\n\n  /**\n   * The {@link addBusinessDays} function options.\n   */\n\n  /**\n   * @name addBusinessDays\n   * @category Day Helpers\n   * @summary Add the specified number of business days (mon - fri) to the given date.\n   *\n   * @description\n   * Add the specified number of business days (mon - fri) to the given date, ignoring weekends.\n   *\n   * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n   * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n   *\n   * @param date - The date to be changed\n   * @param amount - The amount of business days to be added.\n   * @param options - An object with options\n   *\n   * @returns The new date with the business days added\n   *\n   * @example\n   * // Add 10 business days to 1 September 2014:\n   * const result = addBusinessDays(new Date(2014, 8, 1), 10)\n   * //=> Mon Sep 15 2014 00:00:00 (skipped weekend days)\n   */\n  function addBusinessDays(date, amount, options) {\n    const _date = (0, _index5.toDate)(date, options?.in);\n    const startedOnWeekend = (0, _index4.isWeekend)(_date, options);\n    if (isNaN(amount)) return (0, _index.constructFrom)(options?.in, NaN);\n    const hours = _date.getHours();\n    const sign = amount < 0 ? -1 : 1;\n    const fullWeeks = Math.trunc(amount / 5);\n    _date.setDate(_date.getDate() + fullWeeks * 7);\n\n    // Get remaining days not part of a full week\n    let restDays = Math.abs(amount % 5);\n\n    // Loops over remaining days\n    while (restDays > 0) {\n      _date.setDate(_date.getDate() + sign);\n      if (!(0, _index4.isWeekend)(_date, options)) restDays -= 1;\n    }\n\n    // If the date is a weekend day and we reduce a dividable of\n    // 5 from it, we land on a weekend date.\n    // To counter this, we add days accordingly to land on the next business day\n    if (startedOnWeekend && (0, _index4.isWeekend)(_date, options) && amount !== 0) {\n      // If we're reducing days, we want to add days until we land on a weekday\n      // If we're adding days we want to reduce days until we land on a weekday\n      if ((0, _index2.isSaturday)(_date, options)) _date.setDate(_date.getDate() + (sign < 0 ? 2 : -1));\n      if ((0, _index3.isSunday)(_date, options)) _date.setDate(_date.getDate() + (sign < 0 ? 1 : -2));\n    }\n\n    // Restore hours to avoid DST lag\n    _date.setHours(hours);\n    return _date;\n  }\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"exports"],[4,9,2,7],[4,10,2,8,"addBusinessDays"],[4,25,2,23],[4,28,2,26,"addBusinessDays"],[4,43,2,41],[5,2,3,0],[5,6,3,4,"_index"],[5,12,3,10],[5,15,3,13,"require"],[5,22,3,20],[5,23,3,20,"_dependencyMap"],[5,37,3,20],[5,63,3,42],[5,64,3,43],[6,2,4,0],[6,6,4,4,"_index2"],[6,13,4,11],[6,16,4,14,"require"],[6,23,4,21],[6,24,4,21,"_dependencyMap"],[6,38,4,21],[6,61,4,40],[6,62,4,41],[7,2,5,0],[7,6,5,4,"_index3"],[7,13,5,11],[7,16,5,14,"require"],[7,23,5,21],[7,24,5,21,"_dependencyMap"],[7,38,5,21],[7,59,5,38],[7,60,5,39],[8,2,6,0],[8,6,6,4,"_index4"],[8,13,6,11],[8,16,6,14,"require"],[8,23,6,21],[8,24,6,21,"_dependencyMap"],[8,38,6,21],[8,60,6,39],[8,61,6,40],[9,2,7,0],[9,6,7,4,"_index5"],[9,13,7,11],[9,16,7,14,"require"],[9,23,7,21],[9,24,7,21,"_dependencyMap"],[9,38,7,21],[9,57,7,36],[9,58,7,37],[11,2,9,0],[12,0,10,0],[13,0,11,0],[15,2,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,0,21,0],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,0,26,0],[29,0,27,0],[30,0,28,0],[31,0,29,0],[32,0,30,0],[33,0,31,0],[34,0,32,0],[35,0,33,0],[36,0,34,0],[37,2,35,0],[37,11,35,9,"addBusinessDays"],[37,26,35,24,"addBusinessDays"],[37,27,35,25,"date"],[37,31,35,29],[37,33,35,31,"amount"],[37,39,35,37],[37,41,35,39,"options"],[37,48,35,46],[37,50,35,48],[38,4,36,2],[38,10,36,8,"_date"],[38,15,36,13],[38,18,36,16],[38,19,36,17],[38,20,36,18],[38,22,36,20,"_index5"],[38,29,36,27],[38,30,36,28,"toDate"],[38,36,36,34],[38,38,36,36,"date"],[38,42,36,40],[38,44,36,42,"options"],[38,51,36,49],[38,53,36,51,"in"],[38,55,36,53],[38,56,36,54],[39,4,37,2],[39,10,37,8,"startedOnWeekend"],[39,26,37,24],[39,29,37,27],[39,30,37,28],[39,31,37,29],[39,33,37,31,"_index4"],[39,40,37,38],[39,41,37,39,"isWeekend"],[39,50,37,48],[39,52,37,50,"_date"],[39,57,37,55],[39,59,37,57,"options"],[39,66,37,64],[39,67,37,65],[40,4,39,2],[40,8,39,6,"isNaN"],[40,13,39,11],[40,14,39,12,"amount"],[40,20,39,18],[40,21,39,19],[40,23,39,21],[40,30,39,28],[40,31,39,29],[40,32,39,30],[40,34,39,32,"_index"],[40,40,39,38],[40,41,39,39,"constructFrom"],[40,54,39,52],[40,56,39,54,"options"],[40,63,39,61],[40,65,39,63,"in"],[40,67,39,65],[40,69,39,67,"NaN"],[40,72,39,70],[40,73,39,71],[41,4,41,2],[41,10,41,8,"hours"],[41,15,41,13],[41,18,41,16,"_date"],[41,23,41,21],[41,24,41,22,"getHours"],[41,32,41,30],[41,33,41,31],[41,34,41,32],[42,4,42,2],[42,10,42,8,"sign"],[42,14,42,12],[42,17,42,15,"amount"],[42,23,42,21],[42,26,42,24],[42,27,42,25],[42,30,42,28],[42,31,42,29],[42,32,42,30],[42,35,42,33],[42,36,42,34],[43,4,43,2],[43,10,43,8,"fullWeeks"],[43,19,43,17],[43,22,43,20,"Math"],[43,26,43,24],[43,27,43,25,"trunc"],[43,32,43,30],[43,33,43,31,"amount"],[43,39,43,37],[43,42,43,40],[43,43,43,41],[43,44,43,42],[44,4,45,2,"_date"],[44,9,45,7],[44,10,45,8,"setDate"],[44,17,45,15],[44,18,45,16,"_date"],[44,23,45,21],[44,24,45,22,"getDate"],[44,31,45,29],[44,32,45,30],[44,33,45,31],[44,36,45,34,"fullWeeks"],[44,45,45,43],[44,48,45,46],[44,49,45,47],[44,50,45,48],[46,4,47,2],[47,4,48,2],[47,8,48,6,"restDays"],[47,16,48,14],[47,19,48,17,"Math"],[47,23,48,21],[47,24,48,22,"abs"],[47,27,48,25],[47,28,48,26,"amount"],[47,34,48,32],[47,37,48,35],[47,38,48,36],[47,39,48,37],[49,4,50,2],[50,4,51,2],[50,11,51,9,"restDays"],[50,19,51,17],[50,22,51,20],[50,23,51,21],[50,25,51,23],[51,6,52,4,"_date"],[51,11,52,9],[51,12,52,10,"setDate"],[51,19,52,17],[51,20,52,18,"_date"],[51,25,52,23],[51,26,52,24,"getDate"],[51,33,52,31],[51,34,52,32],[51,35,52,33],[51,38,52,36,"sign"],[51,42,52,40],[51,43,52,41],[52,6,53,4],[52,10,53,8],[52,11,53,9],[52,12,53,10],[52,13,53,11],[52,15,53,13,"_index4"],[52,22,53,20],[52,23,53,21,"isWeekend"],[52,32,53,30],[52,34,53,32,"_date"],[52,39,53,37],[52,41,53,39,"options"],[52,48,53,46],[52,49,53,47],[52,51,53,49,"restDays"],[52,59,53,57],[52,63,53,61],[52,64,53,62],[53,4,54,2],[55,4,56,2],[56,4,57,2],[57,4,58,2],[58,4,59,2],[58,8,60,4,"startedOnWeekend"],[58,24,60,20],[58,28,61,4],[58,29,61,5],[58,30,61,6],[58,32,61,8,"_index4"],[58,39,61,15],[58,40,61,16,"isWeekend"],[58,49,61,25],[58,51,61,27,"_date"],[58,56,61,32],[58,58,61,34,"options"],[58,65,61,41],[58,66,61,42],[58,70,62,4,"amount"],[58,76,62,10],[58,81,62,15],[58,82,62,16],[58,84,63,4],[59,6,64,4],[60,6,65,4],[61,6,66,4],[61,10,66,8],[61,11,66,9],[61,12,66,10],[61,14,66,12,"_index2"],[61,21,66,19],[61,22,66,20,"isSaturday"],[61,32,66,30],[61,34,66,32,"_date"],[61,39,66,37],[61,41,66,39,"options"],[61,48,66,46],[61,49,66,47],[61,51,67,6,"_date"],[61,56,67,11],[61,57,67,12,"setDate"],[61,64,67,19],[61,65,67,20,"_date"],[61,70,67,25],[61,71,67,26,"getDate"],[61,78,67,33],[61,79,67,34],[61,80,67,35],[61,84,67,39,"sign"],[61,88,67,43],[61,91,67,46],[61,92,67,47],[61,95,67,50],[61,96,67,51],[61,99,67,54],[61,100,67,55],[61,101,67,56],[61,102,67,57],[61,103,67,58],[62,6,68,4],[62,10,68,8],[62,11,68,9],[62,12,68,10],[62,14,68,12,"_index3"],[62,21,68,19],[62,22,68,20,"isSunday"],[62,30,68,28],[62,32,68,30,"_date"],[62,37,68,35],[62,39,68,37,"options"],[62,46,68,44],[62,47,68,45],[62,49,69,6,"_date"],[62,54,69,11],[62,55,69,12,"setDate"],[62,62,69,19],[62,63,69,20,"_date"],[62,68,69,25],[62,69,69,26,"getDate"],[62,76,69,33],[62,77,69,34],[62,78,69,35],[62,82,69,39,"sign"],[62,86,69,43],[62,89,69,46],[62,90,69,47],[62,93,69,50],[62,94,69,51],[62,97,69,54],[62,98,69,55],[62,99,69,56],[62,100,69,57],[62,101,69,58],[63,4,70,2],[65,4,72,2],[66,4,73,2,"_date"],[66,9,73,7],[66,10,73,8,"setHours"],[66,18,73,16],[66,19,73,17,"hours"],[66,24,73,22],[66,25,73,23],[67,4,75,2],[67,11,75,9,"_date"],[67,16,75,14],[68,2,76,0],[69,0,76,1],[69,3]],"functionMap":{"names":["<global>","addBusinessDays"],"mappings":"AAA;ACkC;CDyC"}},"type":"js/module"}]}