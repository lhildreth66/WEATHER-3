{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":163},"end":{"line":10,"column":35,"index":382}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":383},"end":{"line":11,"column":40,"index":423}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.useNotifications=function(){const[e,n]=(0,t.useState)(null),[u,f]=(0,t.useState)(null),[l,v]=(0,t.useState)(!1),[S,p]=(0,t.useState)(null),N=(0,t.useRef)(),_=(0,t.useRef)(),h=(0,t.useRef)(o.default.currentState),R=async()=>{try{p(null);const e=await(0,c.registerForPushNotificationsAsync)();e?(n(e),v(!0),s.API_BASE&&await(0,c.sendPushTokenToBackend)(e,s.API_BASE)):p('Could not get push notification token')}catch(e){p(e instanceof Error?e.message:'Unknown error')}};return(0,t.useEffect)(()=>{R(),N.current=(0,c.addNotificationReceivedListener)(e=>{f(e)}),_.current=(0,c.addNotificationResponseReceivedListener)(e=>{const t=e.notification.request.content.data;console.log('Notification tapped:',t)});const e=o.default.addEventListener('change',e=>{h.current.match(/inactive|background/)&&'active'===e&&(l||R()),h.current=e});return()=>{N.current&&(0,c.removeNotificationSubscription)(N.current),_.current&&(0,c.removeNotificationSubscription)(_.current),e.remove()}},[]),{expoPushToken:e,notification:u,isRegistered:l,error:S,registerForNotifications:R}};var e,t=r(d[0]),n=r(d[1]),o=(e=n)&&e.__esModule?e:{default:e},c=r(d[2]),s=r(d[3])});","lineCount":1,"map":[[1,92,36,0,"_e"],[1,95,36,0,"useNotifications"],[1,112,36,7],[1,123,37,2],[1,129,37,9,"expoPushToken"],[1,131,37,24,"setExpoPushToken"],[1,135,37,44],[1,137,37,44,"useState"],[1,139,37,52,"useState"],[1,149,37,68],[1,156,38,9,"notification"],[1,158,38,23,"setNotification"],[1,162,38,42],[1,164,38,42,"useState"],[1,166,38,50,"useState"],[1,176,38,86],[1,183,39,9,"isRegistered"],[1,185,39,23,"setIsRegistered"],[1,189,39,42],[1,191,39,42,"useState"],[1,193,39,50,"useState"],[1,204,39,51],[1,208,40,9,"error"],[1,210,40,16,"setError"],[1,214,40,28],[1,216,40,28,"useState"],[1,218,40,36,"useState"],[1,228,40,52],[1,234,42,8,"notificationListener"],[1,237,42,31],[1,239,42,31,"useRef"],[1,241,42,37,"useRef"],[1,251,43,8,"responseListener"],[1,254,43,27],[1,256,43,27,"useRef"],[1,258,43,33,"useRef"],[1,268,44,8,"appState"],[1,271,44,19],[1,273,44,19,"useRef"],[1,275,44,25,"useRef"],[1,283,44,26,"AppState"],[1,285,44,34,"default"],[1,293,44,35,"currentState"],[1,307,46,8,"registerForNotifications"],[1,309,46,35,"async"],[1,319,47,4],[1,323,48,6,"setError"],[1,325,48,15],[1,331,49,6],[1,337,49,12,"token"],[1,345,49,26],[1,347,49,26,"registerForPushNotificationsAsync"],[1,349,49,59,"registerForPushNotificationsAsync"],[1,386,51,10,"token"],[1,389,52,8,"setExpoPushToken"],[1,391,52,25,"token"],[1,394,53,8,"setIsRegistered"],[1,397,53,24],[1,400,56,12,"API_BASE"],[1,402,56,20,"API_BASE"],[1,418,57,16],[1,420,57,16,"sendPushTokenToBackend"],[1,422,57,38,"sendPushTokenToBackend"],[1,446,57,39,"token"],[1,448,57,46,"API_BASE"],[1,450,57,54,"API_BASE"],[1,461,60,8,"setError"],[1,463,60,17],[1,503,62,4],[1,504,62,6],[1,510,62,13,"err"],[1,513,63,6,"setError"],[1,515,63,15,"err"],[1,528,63,30,"Error"],[1,534,63,38,"err"],[1,536,63,42,"message"],[1,544,63,52],[1,560,64,4],[1,563,112,2],[1,570,67,2],[1,572,67,2,"useEffect"],[1,574,67,11,"useEffect"],[1,585,67,12],[1,590,69,4,"registerForNotifications"],[1,594,72,4,"notificationListener"],[1,596,72,25,"current"],[1,605,72,35],[1,607,72,35,"addNotificationReceivedListener"],[1,609,72,66,"addNotificationReceivedListener"],[1,642,72,68,"notif"],[1,646,73,6,"setNotification"],[1,648,73,22,"notif"],[1,653,76,4,"responseListener"],[1,655,76,21,"current"],[1,664,76,31],[1,666,76,31,"addNotificationResponseReceivedListener"],[1,668,76,70,"addNotificationResponseReceivedListener"],[1,709,76,72,"response"],[1,713,78,6],[1,719,78,12,"data"],[1,721,78,19,"response"],[1,723,78,28,"notification"],[1,736,78,41,"request"],[1,744,78,49,"content"],[1,752,78,57,"data"],[1,757,79,6,"console"],[1,765,79,14,"log"],[1,769,79,18],[1,792,79,42,"data"],[1,797,85,4],[1,803,98,10,"subscription"],[1,805,98,25,"AppState"],[1,807,98,33,"default"],[1,815,98,34,"addEventListener"],[1,832,98,51],[1,841,85,34,"nextAppState"],[1,845,87,8,"appState"],[1,847,87,17,"current"],[1,855,87,25,"match"],[1,861,87,31],[1,885,88,25],[1,896,88,8,"nextAppState"],[1,900,91,13,"isRegistered"],[1,903,92,10,"registerForNotifications"],[1,908,95,6,"appState"],[1,910,95,15,"current"],[1,918,95,25,"nextAppState"],[1,922,101,4],[1,928,101,11],[1,933,102,10,"notificationListener"],[1,935,102,31,"current"],[1,945,103,8],[1,947,103,8,"removeNotificationSubscription"],[1,949,103,38,"removeNotificationSubscription"],[1,981,103,39,"notificationListener"],[1,983,103,60,"current"],[1,992,105,10,"responseListener"],[1,994,105,27,"current"],[1,1004,106,8],[1,1006,106,8,"removeNotificationSubscription"],[1,1008,106,38,"removeNotificationSubscription"],[1,1040,106,39,"responseListener"],[1,1042,106,56,"current"],[1,1051,108,6,"subscription"],[1,1053,108,19,"remove"],[1,1064,110,5],[1,1068,112,9],[1,1069,113,4,"expoPushToken"],[1,1085,114,4,"notification"],[1,1100,115,4,"isRegistered"],[1,1115,116,4,"error"],[1,1123,117,4,"registerForNotifications"],[1,1150,119,0],[1,1152,1,0],[1,1156],[1,1158,1,0,"_react"],[1,1160,1,0,"r"],[1,1162,1,0,"d"],[1,1164,1,0],[1,1168,1,52,"_reactNativeWebDistExportsAppState"],[1,1170,1,52,"r"],[1,1172,1,52,"d"],[1,1174,1,52],[1,1178,1,52,"AppState"],[1,1181],[1,1183,1,52,"_reactNativeWebDistExportsAppState"],[1,1187],[1,1214,4,0,"_servicesNotifications"],[1,1216,4,0,"r"],[1,1218,4,0,"d"],[1,1220,4,0],[1,1224,11,0,"_apiConfig"],[1,1226,11,0,"r"],[1,1228,11,0,"d"],[1,1230,11,0],[1,1233,119,1],[1,1236]],"functionMap":{"names":["<global>","useNotifications","registerForNotifications","useEffect$argument_0","addNotificationReceivedListener$argument_0","addNotificationResponseReceivedListener$argument_0","handleAppStateChange","<anonymous>"],"mappings":"AAA;OCmC;mCCU;GDmB;YEE;mECK;KDE;uEEE;KFM;iCGG;KHW;WIK;KJQ;GFC;CDS"},"hasCjsExports":false},"type":"js/module"}]}