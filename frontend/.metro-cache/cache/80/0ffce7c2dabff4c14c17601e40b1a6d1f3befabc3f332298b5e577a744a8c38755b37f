{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":115,"column":54,"index":4763}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@ide/backoff","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":58,"index":58}}],"key":"NQRSA6vwI/E/bytfLcxt0JFnjmQ="}},{"name":"expo-application","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":59},"end":{"line":2,"column":48,"index":107}}],"key":"ROo8waFf3/VNi+f4CblZuFEzfTg="}},{"name":"expo-modules-core","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":78,"index":186}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"../ServerRegistrationModule","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":67,"index":254}}],"key":"N1opXXbg8pPDNrK5P7Ybebbd+6I="}}],"output":[{"data":{"code":"__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.updateDevicePushTokenAsync=async function(e,o){const r=async t=>{const[r,f]=await Promise.all([u(),c()]),l={deviceId:f.toLowerCase(),development:r,deviceToken:o.data,appId:n.applicationId,type:s(o)};try{const n=await fetch(i,{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(l),signal:e});n.ok||console.debug('[expo-notifications] Error encountered while updating the device push token with the server:',await n.text()),n.ok||t()}catch(e){if('object'==typeof e&&'AbortError'===e?.name)return;console.warn('[expo-notifications] Error thrown while updating the device push token with the server:',e),t()}};let f=!0;const l=()=>{f=!0};let p=0;const h={maxBackoff:12e4};let y=(0,t.computeNextBackoffInterval)(500,p,h);for(;f&&!e.aborted;)f=!1,await r(l),f&&!e.aborted&&(y=(0,t.computeNextBackoffInterval)(500,p,h),p+=1,await new Promise(e=>setTimeout(e,y)))};var t=_r(d[1]),n=(function(e,t){if(\"function\"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,c={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return c;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,c)}for(const t in e)\"default\"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?r(c,t,i):c[t]=e[t]);return c})(e,t)})(_r(d[2])),o=_r(d[3]),r=e(_r(d[4]));const i='https://exp.host/--/api/v2/push/updateDeviceToken';async function c(){try{if(!r.default.getInstallationIdAsync)throw new o.UnavailabilityError('ExpoServerRegistrationModule','getInstallationIdAsync');return await r.default.getInstallationIdAsync()}catch(e){throw new o.CodedError('ERR_NOTIFICATIONS_DEVICE_ID',`Could not fetch the installation ID of the application: ${e}.`)}}function s(e){switch(e.type){case'ios':return'apns';case'android':return'fcm';default:return e.type}}async function u(){return!1}});","lineCount":1,"map":[[1,126,6,7,"async"],[1,141,6,49,"signal"],[1,143,6,57,"token"],[1,146,7,4],[1,152,7,10,"doUpdateDevicePushTokenAsync"],[1,154,7,41,"async"],[1,164,8,8],[1,170,8,15,"development"],[1,172,8,28,"deviceId"],[1,181,8,46,"Promise"],[1,189,8,54,"all"],[1,193,8,58],[1,194,9,12,"shouldUseDevelopmentNotificationService"],[1,198,10,12,"getDeviceIdAsync"],[1,204,12,14,"body"],[1,206,12,21],[1,207,13,12,"deviceId"],[1,216,13,22,"deviceId"],[1,218,13,31,"toLowerCase"],[1,232,14,12,"development"],[1,246,15,12,"deviceToken"],[1,258,15,25,"token"],[1,260,15,31,"data"],[1,265,16,12,"appId"],[1,271,16,19,"Application"],[1,273,16,31,"applicationId"],[1,287,17,12,"type"],[1,292,17,18,"getTypeOfToken"],[1,294,17,33,"token"],[1,298,19,8],[1,302,20,12],[1,308,20,18,"response"],[1,316,20,35,"fetch"],[1,322,20,41,"updateDevicePushTokenUrl"],[1,324,20,67],[1,325,21,16,"method"],[1,332,21,24],[1,339,22,16,"headers"],[1,347,22,25],[1,348,23,20],[1,363,23,36],[1,383,25,16,"body"],[1,388,25,22,"JSON"],[1,393,25,27,"stringify"],[1,403,25,37,"body"],[1,406,26,16,"signal"],[1,417,29,17,"response"],[1,419,29,26,"ok"],[1,423,30,16,"console"],[1,431,30,24,"debug"],[1,437,30,30],[1,538,30,132,"response"],[1,540,30,141,"text"],[1,548,33,17,"response"],[1,550,33,26,"ok"],[1,554,34,16,"retry"],[1,557,36,8],[1,558,37,8],[1,564,37,15,"error"],[1,567,44,12],[1,570,44,33],[1,587,44,23,"error"],[1,590,44,61],[1,605,44,45,"error"],[1,608,44,52,"name"],[1,613,48,16],[1,620,50,12,"console"],[1,628,50,20,"warn"],[1,633,50,25],[1,723,50,116,"error"],[1,726,51,12,"retry"],[1,729,52,8],[1,732,54,4],[1,736,54,8,"shouldTry"],[1,739,54,20],[1,741,55,4],[1,747,55,10,"retry"],[1,749,55,18,"retry"],[1,754,56,8,"shouldTry"],[1,757,56,20],[1,760,58,4],[1,764,58,8,"retriesCount"],[1,766,58,23],[1,768,59,4],[1,774,60,10,"backoffOptions"],[1,776,60,27],[1,777,61,8,"maxBackoff"],[1,788,61,18],[1,794,63,4],[1,798,63,8,"nextBackoffInterval"],[1,801,63,30],[1,803,63,30,"computeNextBackoffInterval"],[1,833,59,27],[1,837,63,73,"retriesCount"],[1,839,63,87,"backoffOptions"],[1,842,64,4],[1,847,64,11,"shouldTry"],[1,851,64,25,"signal"],[1,853,64,32,"aborted"],[1,862,66,8,"shouldTry"],[1,865,66,20],[1,873,67,14,"doUpdateDevicePushTokenAsync"],[1,875,67,43,"retry"],[1,878,69,12,"shouldTry"],[1,882,69,26,"signal"],[1,884,69,33,"aborted"],[1,894,70,12,"nextBackoffInterval"],[1,897,70,34],[1,899,70,34,"computeNextBackoffInterval"],[1,929,59,27],[1,933,70,77,"retriesCount"],[1,935,70,91,"backoffOptions"],[1,938,71,12,"retriesCount"],[1,941,71,28],[1,949,72,18],[1,953,72,22,"Promise"],[1,961,72,31,"resolve"],[1,964,72,43,"setTimeout"],[1,975,72,54,"resolve"],[1,977,72,63,"nextBackoffInterval"],[1,981,75,0],[1,983,1,0],[1,987,1,0,"_backoff"],[1,989,1,0,"_r"],[1,992,1,0,"d"],[1,994,1,0],[1,998,2,0,"Application"],[1,1001,4,67],[1,1010,4,67,"e"],[1,1012,4,67,"t"],[1,1015,4,67],[1,1037,4,67,"WeakMap"],[1,1045,4,67],[1,1049,4,67,"r"],[1,1051,4,67],[1,1055,4,67,"WeakMap"],[1,1063,4,67,"n"],[1,1065,4,67],[1,1069,4,67,"WeakMap"],[1,1077,4,67],[1,1093,4,67,"e"],[1,1095,4,67,"t"],[1,1098,4,67],[1,1102,4,67,"t"],[1,1105,4,67,"e"],[1,1110,4,67,"__esModule"],[1,1121,4,67],[1,1128,4,67,"e"],[1,1130,4,67],[1,1134,4,67,"o"],[1,1136,4,67,"i"],[1,1138,4,67,"f"],[1,1140,4,67],[1,1141,4,67,"__proto__"],[1,1151,4,67],[1,1156,4,67,"default"],[1,1164,4,67,"e"],[1,1167,4,67],[1,1177,4,67,"e"],[1,1180,4,67],[1,1197,4,67,"e"],[1,1200,4,67],[1,1219,4,67,"e"],[1,1221,4,67],[1,1228,4,67,"f"],[1,1230,4,67],[1,1233,4,67,"o"],[1,1235,4,67,"t"],[1,1237,4,67,"n"],[1,1239,4,67,"r"],[1,1241,4,67],[1,1245,4,67,"o"],[1,1247,4,67,"has"],[1,1251,4,67,"e"],[1,1254,4,67],[1,1261,4,67,"o"],[1,1263,4,67,"get"],[1,1267,4,67,"e"],[1,1270,4,67,"o"],[1,1272,4,67,"set"],[1,1276,4,67,"e"],[1,1278,4,67,"f"],[1,1280,4,67],[1,1291,4,67,"t"],[1,1296,4,67,"e"],[1,1298,4,67],[1,1310,4,67,"t"],[1,1313,4,67],[1,1316,4,67,"hasOwnProperty"],[1,1331,4,67,"call"],[1,1336,4,67,"e"],[1,1338,4,67,"t"],[1,1344,4,67,"i"],[1,1347,4,67,"o"],[1,1349,4,67,"Object"],[1,1356,4,67,"defineProperty"],[1,1373,4,67,"Object"],[1,1380,4,67,"getOwnPropertyDescriptor"],[1,1405,4,67,"e"],[1,1407,4,67,"t"],[1,1413,4,67,"i"],[1,1415,4,67,"get"],[1,1420,4,67,"i"],[1,1422,4,67,"set"],[1,1427,4,67,"o"],[1,1429,4,67,"f"],[1,1431,4,67,"t"],[1,1433,4,67,"i"],[1,1436,4,67,"f"],[1,1438,4,67,"t"],[1,1441,4,67,"e"],[1,1443,4,67,"t"],[1,1447,4,67],[1,1454,4,67,"f"],[1,1455,4,67],[1,1458,4,67,"e"],[1,1460,4,67,"t"],[1,1462,4,67],[1,1464,2,0,"_interopRequireWildcard"],[1,1465,2,0,"_r"],[1,1468,2,0,"d"],[1,1470,2,0],[1,1475,3,0,"_expoModulesCore"],[1,1477,3,0,"_r"],[1,1480,3,0,"d"],[1,1482,3,0],[1,1486,4,0,"_ServerRegistrationModule"],[1,1488,4,0,"_interopRequireDefault"],[1,1490,4,0,"_r"],[1,1493,4,0,"d"],[1,1495,4,0],[1,1500,5,0],[1,1506,5,6,"updateDevicePushTokenUrl"],[1,1508,5,33],[1,1560,77,0,"async"],[1,1575,77,15,"getDeviceIdAsync"],[1,1579,78,4],[1,1583,79,8],[1,1587,79,13,"ServerRegistrationModule"],[1,1597,79,38,"getInstallationIdAsync"],[1,1620,80,12],[1,1626,80,18],[1,1630,80,22,"UnavailabilityError"],[1,1652,80,42],[1,1683,80,74],[1,1709,82,8],[1,1722,82,21,"ServerRegistrationModule"],[1,1732,82,46,"getInstallationIdAsync"],[1,1756,83,4],[1,1757,84,4],[1,1763,84,11,"e"],[1,1766,85,8],[1,1772,85,14],[1,1776,85,18,"CodedError"],[1,1789,85,29],[1,1819,85,60],[1,1878,85,119,"e"],[1,1883,86,4],[1,1884,87,0],[1,1885,89,0],[1,1894,89,9,"getTypeOfToken"],[1,1896,89,24,"devicePushToken"],[1,1899,90,4],[1,1906,90,12,"devicePushToken"],[1,1908,90,28,"type"],[1,1914,91,8],[1,1918,91,13],[1,1924,92,12],[1,1930,92,19],[1,1937,93,8],[1,1941,93,13],[1,1951,94,12],[1,1957,94,19],[1,1963,96,8],[1,1971,97,12],[1,1978,97,19,"devicePushToken"],[1,1980,97,35,"type"],[1,1985,99,0],[1,1986,101,0,"async"],[1,2001,101,15,"shouldUseDevelopmentNotificationService"],[1,2005,113,4],[1,2012,113,11],[1,2013,114,0],[1,2014,114,1],[1,2017]],"functionMap":{"names":["<global>","updateDevicePushTokenAsync","doUpdateDevicePushTokenAsync","retry","Promise$argument_0","getDeviceIdAsync","getTypeOfToken","shouldUseDevelopmentNotificationService"],"mappings":"AAA;OCK;yCCC;KD8C;kBEE;KFE;8BGe,qDH;CDG;AKE;CLU;AME;CNU;AOE;CPa"}},"type":"js/module"}]}