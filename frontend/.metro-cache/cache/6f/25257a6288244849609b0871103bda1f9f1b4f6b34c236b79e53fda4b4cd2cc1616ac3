{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":89,"column":62,"index":4103}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"abort-controller/polyfill","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":35,"index":35}}],"key":"Y+bCVn4lNYorNpf/8Rmj//JPTV8="}},{"name":"expo-modules-core","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":36},"end":{"line":2,"column":56,"index":92}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./ServerRegistrationModule","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":66,"index":159}}],"key":"YAseH1nZMP5R9yUhA4v25OdgZPM="}},{"name":"./TokenEmitter","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":160},"end":{"line":4,"column":54,"index":214}}],"key":"XhbMIyVddqi3lxqapEb19TI+9J4="}},{"name":"./getDevicePushTokenAsync","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":64,"index":279}}],"key":"B0eKcuACAajVW/NB6G4UhlxBwZ0="}},{"name":"./utils/updateDevicePushTokenAsync","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":0,"index":280},"end":{"line":6,"column":120,"index":400}}],"key":"8k3LD8RVmvq6rgns3ACBQxVq3xk="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.__handlePersistedRegistrationInfoAsync=f,_e.setAutoServerRegistrationEnabledAsync=async function(e){if(l?.abort(),!n.default.setRegistrationInfoAsync)throw new t.UnavailabilityError('ServerRegistrationModule','setRegistrationInfoAsync');await n.default.setRegistrationInfoAsync(e?JSON.stringify({isEnabled:e}):null)},r(d[1]);var t=r(d[2]),n=e(r(d[3])),o=r(d[4]),s=e(r(d[5])),c=r(d[6]);let l=null;async function u(e){return l?.abort(),l=new AbortController,await(0,c.updateDevicePushTokenAsync)(l.signal,e)}async function f(e){if(!e)return;let t=null;try{t=JSON.parse(e)}catch(e){console.warn('[expo-notifications] Error encountered while fetching registration information for auto token updates.',e)}if(t?.isEnabled)try{const e=await(0,s.default)();await u(e)}catch(e){console.warn('[expo-notifications] Error encountered while updating server registration with latest device push token.',e)}}n.default.getRegistrationInfoAsync?((0,o.addPushTokenListener)(async e=>{try{const t=await n.default.getRegistrationInfoAsync();if(!t)return;const o=JSON.parse(t);o?.isEnabled&&await u(e)}catch(e){console.warn('[expo-notifications] Error encountered while updating server registration with latest device push token.',e)}}),n.default.getRegistrationInfoAsync().then(f)):console.warn(\"[expo-notifications] Error encountered while fetching auto-registration state, new tokens will not be automatically registered on server.\",new t.UnavailabilityError('ServerRegistrationModule','getRegistrationInfoAsync'))});","lineCount":1,"map":[[1,178,21,7,"async"],[1,193,21,60,"enabled"],[1,196,25,4],[1,199,24,4,"lastAbortController"],[1,202,24,25,"abort"],[1,211,25,9,"ServerRegistrationModule"],[1,221,25,34,"setRegistrationInfoAsync"],[1,246,26,8],[1,252,26,14],[1,256,26,18,"UnavailabilityError"],[1,278,26,38],[1,305,26,66],[1,339,28,10,"ServerRegistrationModule"],[1,349,28,35,"setRegistrationInfoAsync"],[1,374,28,60,"enabled"],[1,376,28,70,"JSON"],[1,381,28,75,"stringify"],[1,391,28,85],[1,392,28,87,"isEnabled"],[1,402,28,98,"enabled"],[1,406,28,111],[1,411,29,0],[1,413,1,0,"r"],[1,415,1,0,"d"],[1,417,1,0],[1,421,2,0],[1,425,2,0,"_expoModulesCore"],[1,427,2,0,"r"],[1,429,2,0,"d"],[1,431,2,0],[1,435,3,0,"_ServerRegistrationModule"],[1,437,3,0,"_interopRequireDefault"],[1,439,3,0,"r"],[1,441,3,0,"d"],[1,443,3,0],[1,448,4,0,"_TokenEmitter"],[1,450,4,0,"r"],[1,452,4,0,"d"],[1,454,4,0],[1,458,5,0,"_getDevicePushTokenAsync"],[1,460,5,0,"_interopRequireDefault"],[1,462,5,0,"r"],[1,464,5,0,"d"],[1,466,5,0],[1,471,6,0,"_updateDevicePushTokenAsync"],[1,473,6,0,"r"],[1,475,6,0,"d"],[1,477,6,0],[1,481,7,0],[1,485,7,4,"lastAbortController"],[1,487,7,26],[1,492,8,0,"async"],[1,507,8,15,"updatePushTokenAsync"],[1,509,8,36,"token"],[1,512,12,4],[1,519,10,4,"lastAbortController"],[1,522,10,25,"abort"],[1,530,11,4,"lastAbortController"],[1,532,11,26],[1,536,11,30,"AbortController"],[1,558,12,17],[1,560,12,17,"updateDevicePushTokenAsyncWithSignal"],[1,590,12,54,"lastAbortController"],[1,592,12,74,"signal"],[1,599,12,82,"token"],[1,601,13,0],[1,602,31,7,"async"],[1,617,31,22,"__handlePersistedRegistrationInfoAsync"],[1,619,31,61,"registrationInfo"],[1,622,32,4],[1,626,32,9,"registrationInfo"],[1,628,34,8],[1,635,36,4],[1,639,36,8,"registration"],[1,641,36,23],[1,646,37,4],[1,650,38,8,"registration"],[1,652,38,23,"JSON"],[1,657,38,28,"parse"],[1,663,38,34,"registrationInfo"],[1,665,39,4],[1,666,40,4],[1,672,40,11,"e"],[1,675,41,8,"console"],[1,683,41,16,"warn"],[1,688,41,21],[1,793,41,127,"e"],[1,795,42,4],[1,796,43,4],[1,799,43,9,"registration"],[1,802,43,23,"isEnabled"],[1,812,47,4],[1,816,50,8],[1,822,50,14,"latestDevicePushToken"],[1,830,50,44],[1,832,50,44,"getDevicePushTokenAsync"],[1,851,51,14,"updatePushTokenAsync"],[1,853,51,35,"latestDevicePushToken"],[1,855,52,4],[1,856,53,4],[1,862,53,11,"e"],[1,865,54,8,"console"],[1,873,54,16,"warn"],[1,878,54,21],[1,985,54,129,"e"],[1,987,55,4],[1,988,56,0],[1,989,57,4,"ServerRegistrationModule"],[1,999,57,29,"getRegistrationInfoAsync"],[1,1026,60,4],[1,1028,60,4,"addPushTokenListener"],[1,1052,60,25,"async"],[1,1062,61,8],[1,1066,65,12],[1,1072,65,18,"registrationInfo"],[1,1080,65,43,"ServerRegistrationModule"],[1,1090,65,68,"getRegistrationInfoAsync"],[1,1117,66,12],[1,1121,66,17,"registrationInfo"],[1,1123,68,16],[1,1130,70,12],[1,1136,70,18,"registration"],[1,1138,70,33,"JSON"],[1,1143,70,38,"parse"],[1,1149,70,44,"registrationInfo"],[1,1152,71,16,"registration"],[1,1155,71,30,"isEnabled"],[1,1172,74,22,"updatePushTokenAsync"],[1,1174,74,43,"token"],[1,1176,76,8],[1,1177,77,8],[1,1183,77,15,"e"],[1,1186,78,12,"console"],[1,1194,78,20,"warn"],[1,1199,78,25],[1,1306,78,133,"e"],[1,1308,79,8],[1,1312,84,4,"ServerRegistrationModule"],[1,1322,84,29,"getRegistrationInfoAsync"],[1,1349,84,56,"then"],[1,1354,84,61,"__handlePersistedRegistrationInfoAsync"],[1,1358,87,4,"console"],[1,1366,87,12,"warn"],[1,1371,87,17],[1,1511,87,158],[1,1515,87,162,"UnavailabilityError"],[1,1537,87,182],[1,1564,87,210],[1,1592,88,1],[1,1595]],"functionMap":{"names":["<global>","updatePushTokenAsync","setAutoServerRegistrationEnabledAsync","__handlePersistedRegistrationInfoAsync","addPushTokenListener$argument_0"],"mappings":"AAA;ACO;CDK;OEQ;CFQ;OGE;CHyB;yBII;KJoB"}},"type":"js/module"}]}