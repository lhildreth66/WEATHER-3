{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":224},"end":{"line":8,"column":33,"index":257}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":258},"end":{"line":9,"column":69,"index":327}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useWindShelter\", {\n    enumerable: true,\n    get: function () {\n      return useWindShelter;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * useWindShelter - React Hook for Wind Shelter Orientation Recommendation\n   *\n   * Custom hook for calling the wind shelter API endpoint.\n   * Recommends RV orientation based on local ridge terrain and wind conditions.\n   */\n\n  var API_BASE = 'http://localhost:8000';\n\n  // Type-safe interfaces matching API models\n\n  /**\n   * Hook for wind shelter orientation recommendation\n   *\n   * Usage:\n   * ```typescript\n   * const { estimate, loading, error, result } = useWindShelter();\n   *\n   * await estimate({\n   *   predominant_dir_deg: 270, // Wind from west\n   *   gust_mph: 35,\n   *   local_ridges: [\n   *     { bearing_deg: 90, strength: 'high', name: 'Rock formation' }\n   *   ],\n   * });\n   *\n   * if (result?.is_premium_locked) {\n   * // Handle premium response\n   * } else if (result?.recommended_bearing_deg !== undefined) {\n   *   // Display orientation recommendation\n   * }\n   * ```\n   */\n  var useWindShelter = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var estimate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Retrieve subscription ID from AsyncStorage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            try {\n              subscriptionId = yield AsyncStorage.default.getItem('subscription_id');\n            } catch (e) {\n              console.log('Could not retrieve subscription ID from storage');\n            }\n          }\n\n          // Call API endpoint for wind shelter recommendation\n          var response = yield fetch(`${API_BASE}/api/pro/wind-shelter/orientation`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              ...request,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            // Try to parse error detail from response\n            var errorDetail = `HTTP ${response.status}`;\n            try {\n              var errorData = yield response.json();\n              if (errorData.detail) {\n                errorDetail = errorData.detail;\n              }\n            } catch {\n              // If response isn't JSON, use status message\n              errorDetail = response.statusText || `HTTP ${response.status}`;\n            }\n            throw new Error(errorDetail);\n          }\n          var data = yield response.json();\n\n          // Detect premium-locked response\n          if (data.is_premium_locked && data.premium_message) {\n            setError(data.premium_message);\n            setResult(data);\n            setLoading(false);\n            return data;\n          }\n\n          // Success\n          setResult(data);\n          setLoading(false);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error';\n          console.error('Error in useWindShelter:', errorMessage);\n          setError(errorMessage);\n          setLoading(false);\n          return null;\n        }\n      });\n      return function estimate(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      estimate,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":149,"map":[[12,2,68,0,"Object"],[12,8,68,0],[12,9,68,0,"defineProperty"],[12,23,68,0],[12,24,68,0,"exports"],[12,31,68,0],[13,4,68,0,"enumerable"],[13,14,68,0],[14,4,68,0,"get"],[14,7,68,0],[14,18,68,0,"get"],[14,19,68,0],[15,6,68,0],[15,13,68,0,"useWindShelter"],[15,27,68,0],[16,4,68,0],[17,2,68,0],[18,2,152,2],[18,6,152,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,152,2],[18,45,152,2,"require"],[18,52,152,2],[18,53,152,2,"_dependencyMap"],[18,67,152,2],[19,2,152,2],[19,6,152,2,"_asyncToGenerator"],[19,23,152,2],[19,26,152,2,"_interopDefault"],[19,41,152,2],[19,42,152,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,152,2],[20,2,152,2],[20,6,152,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,152,2],[20,42,152,2,"require"],[20,49,152,2],[20,50,152,2,"_dependencyMap"],[20,64,152,2],[21,2,152,2],[21,6,152,2,"_slicedToArray"],[21,20,152,2],[21,23,152,2,"_interopDefault"],[21,38,152,2],[21,39,152,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,152,2],[22,2,8,0],[22,6,8,0,"_react"],[22,12,8,0],[22,15,8,0,"require"],[22,22,8,0],[22,23,8,0,"_dependencyMap"],[22,37,8,0],[23,2,9,0],[23,6,9,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,9,0],[23,45,9,0,"require"],[23,52,9,0],[23,53,9,0,"_dependencyMap"],[23,67,9,0],[24,2,9,0],[24,6,9,0,"AsyncStorage"],[24,18,9,0],[24,21,9,0,"_interopDefault"],[24,36,9,0],[24,37,9,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,9,0],[25,2,1,0],[26,0,2,0],[27,0,3,0],[28,0,4,0],[29,0,5,0],[30,0,6,0],[32,2,11,0],[32,6,11,6,"API_BASE"],[32,14,11,14],[32,17,11,53],[32,40,11,76],[34,2,13,0],[36,2,46,0],[37,0,47,0],[38,0,48,0],[39,0,49,0],[40,0,50,0],[41,0,51,0],[42,0,52,0],[43,0,53,0],[44,0,54,0],[45,0,55,0],[46,0,56,0],[47,0,57,0],[48,0,58,0],[49,0,59,0],[50,0,60,0],[51,0,61,0],[52,0,62,0],[53,0,63,0],[54,0,64,0],[55,0,65,0],[56,0,66,0],[57,0,67,0],[58,2,68,7],[58,6,68,13,"useWindShelter"],[58,20,68,27],[58,23,68,30,"useWindShelter"],[58,24,68,30],[58,29,68,58],[59,4,69,2],[59,8,69,2,"_useState"],[59,17,69,2],[59,20,69,32],[59,24,69,32,"useState"],[59,30,69,40],[59,31,69,40,"useState"],[59,39,69,40],[59,41,69,41],[59,46,69,46],[59,47,69,47],[60,6,69,47,"_useState2"],[60,16,69,47],[60,23,69,47,"_slicedToArray"],[60,37,69,47],[60,38,69,47,"default"],[60,45,69,47],[60,47,69,47,"_useState"],[60,56,69,47],[61,6,69,9,"loading"],[61,13,69,16],[61,16,69,16,"_useState2"],[61,26,69,16],[62,6,69,18,"setLoading"],[62,16,69,28],[62,19,69,28,"_useState2"],[62,29,69,28],[63,4,70,2],[63,8,70,2,"_useState3"],[63,18,70,2],[63,21,70,28],[63,25,70,28,"useState"],[63,31,70,36],[63,32,70,36,"useState"],[63,40,70,36],[63,42,70,52],[63,46,70,56],[63,47,70,57],[64,6,70,57,"_useState4"],[64,16,70,57],[64,23,70,57,"_slicedToArray"],[64,37,70,57],[64,38,70,57,"default"],[64,45,70,57],[64,47,70,57,"_useState3"],[64,57,70,57],[65,6,70,9,"error"],[65,11,70,14],[65,14,70,14,"_useState4"],[65,24,70,14],[66,6,70,16,"setError"],[66,14,70,24],[66,17,70,24,"_useState4"],[66,27,70,24],[67,4,71,2],[67,8,71,2,"_useState5"],[67,18,71,2],[67,21,71,30],[67,25,71,30,"useState"],[67,31,71,38],[67,32,71,38,"useState"],[67,40,71,38],[67,42,71,67],[67,46,71,71],[67,47,71,72],[68,6,71,72,"_useState6"],[68,16,71,72],[68,23,71,72,"_slicedToArray"],[68,37,71,72],[68,38,71,72,"default"],[68,45,71,72],[68,47,71,72,"_useState5"],[68,57,71,72],[69,6,71,9,"result"],[69,12,71,15],[69,15,71,15,"_useState6"],[69,25,71,15],[70,6,71,17,"setResult"],[70,15,71,26],[70,18,71,26,"_useState6"],[70,28,71,26],[71,4,73,2],[71,8,73,8,"estimate"],[71,16,73,16],[72,6,73,16],[72,10,73,16,"_ref"],[72,14,73,16],[72,21,73,16,"_asyncToGenerator"],[72,38,73,16],[72,39,73,16,"default"],[72,46,73,16],[72,48,73,19],[72,59,74,4,"request"],[72,66,74,31],[72,68,75,44],[73,8,76,4,"setLoading"],[73,18,76,14],[73,19,76,15],[73,23,76,19],[73,24,76,20],[74,8,77,4,"setError"],[74,16,77,12],[74,17,77,13],[74,21,77,17],[74,22,77,18],[75,8,79,4],[75,12,79,8],[76,10,80,6],[77,10,81,6],[77,14,81,10,"subscriptionId"],[77,28,81,24],[77,31,81,27,"request"],[77,38,81,34],[77,39,81,35,"subscription_id"],[77,54,81,50],[78,10,82,6],[78,14,82,10],[78,15,82,11,"subscriptionId"],[78,29,82,25],[78,31,82,27],[79,12,83,8],[79,16,83,12],[80,14,84,10,"subscriptionId"],[80,28,84,24],[80,37,84,33,"AsyncStorage"],[80,49,84,45],[80,50,84,45,"default"],[80,57,84,45],[80,58,84,46,"getItem"],[80,65,84,53],[80,66,84,54],[80,83,84,71],[80,84,84,72],[81,12,85,8],[81,13,85,9],[81,14,85,10],[81,21,85,17,"e"],[81,22,85,18],[81,24,85,20],[82,14,86,10,"console"],[82,21,86,17],[82,22,86,18,"log"],[82,25,86,21],[82,26,86,22],[82,75,86,71],[82,76,86,72],[83,12,87,8],[84,10,88,6],[86,10,90,6],[87,10,91,6],[87,14,91,12,"response"],[87,22,91,20],[87,31,91,29,"fetch"],[87,36,91,34],[87,37,91,35],[87,40,91,38,"API_BASE"],[87,48,91,46],[87,83,91,81],[87,85,91,83],[88,12,92,8,"method"],[88,18,92,14],[88,20,92,16],[88,26,92,22],[89,12,93,8,"headers"],[89,19,93,15],[89,21,93,17],[90,14,94,10],[90,28,94,24],[90,30,94,26],[91,12,95,8],[91,13,95,9],[92,12,96,8,"body"],[92,16,96,12],[92,18,96,14,"JSON"],[92,22,96,18],[92,23,96,19,"stringify"],[92,32,96,28],[92,33,96,29],[93,14,97,10],[93,17,97,13,"request"],[93,24,97,20],[94,14,98,10,"subscription_id"],[94,29,98,25],[94,31,98,27,"subscriptionId"],[95,12,99,8],[95,13,99,9],[96,10,100,6],[96,11,100,7],[96,12,100,8],[97,10,102,6],[97,14,102,10],[97,15,102,11,"response"],[97,23,102,19],[97,24,102,20,"ok"],[97,26,102,22],[97,28,102,24],[98,12,103,8],[99,12,104,8],[99,16,104,12,"errorDetail"],[99,27,104,23],[99,30,104,26],[99,38,104,34,"response"],[99,46,104,42],[99,47,104,43,"status"],[99,53,104,49],[99,55,104,51],[100,12,105,8],[100,16,105,12],[101,14,106,10],[101,18,106,16,"errorData"],[101,27,106,25],[101,36,106,34,"response"],[101,44,106,42],[101,45,106,43,"json"],[101,49,106,47],[101,50,106,48],[101,51,106,49],[102,14,107,10],[102,18,107,14,"errorData"],[102,27,107,23],[102,28,107,24,"detail"],[102,34,107,30],[102,36,107,32],[103,16,108,12,"errorDetail"],[103,27,108,23],[103,30,108,26,"errorData"],[103,39,108,35],[103,40,108,36,"detail"],[103,46,108,42],[104,14,109,10],[105,12,110,8],[105,13,110,9],[105,14,110,10],[105,20,110,16],[106,14,111,10],[107,14,112,10,"errorDetail"],[107,25,112,21],[107,28,112,24,"response"],[107,36,112,32],[107,37,112,33,"statusText"],[107,47,112,43],[107,51,112,47],[107,59,112,55,"response"],[107,67,112,63],[107,68,112,64,"status"],[107,74,112,70],[107,76,112,72],[108,12,113,8],[109,12,114,8],[109,18,114,14],[109,22,114,18,"Error"],[109,27,114,23],[109,28,114,24,"errorDetail"],[109,39,114,35],[109,40,114,36],[110,10,115,6],[111,10,117,6],[111,14,117,12,"data"],[111,18,117,37],[111,27,117,46,"response"],[111,35,117,54],[111,36,117,55,"json"],[111,40,117,59],[111,41,117,60],[111,42,117,61],[113,10,119,6],[114,10,120,6],[114,14,120,10,"data"],[114,18,120,14],[114,19,120,15,"is_premium_locked"],[114,36,120,32],[114,40,120,36,"data"],[114,44,120,40],[114,45,120,41,"premium_message"],[114,60,120,56],[114,62,120,58],[115,12,121,8,"setError"],[115,20,121,16],[115,21,121,17,"data"],[115,25,121,21],[115,26,121,22,"premium_message"],[115,41,121,37],[115,42,121,38],[116,12,122,8,"setResult"],[116,21,122,17],[116,22,122,18,"data"],[116,26,122,22],[116,27,122,23],[117,12,123,8,"setLoading"],[117,22,123,18],[117,23,123,19],[117,28,123,24],[117,29,123,25],[118,12,124,8],[118,19,124,15,"data"],[118,23,124,19],[119,10,125,6],[121,10,127,6],[122,10,128,6,"setResult"],[122,19,128,15],[122,20,128,16,"data"],[122,24,128,20],[122,25,128,21],[123,10,129,6,"setLoading"],[123,20,129,16],[123,21,129,17],[123,26,129,22],[123,27,129,23],[124,10,130,6],[124,17,130,13,"data"],[124,21,130,17],[125,8,131,4],[125,9,131,5],[125,10,131,6],[125,17,131,13,"err"],[125,20,131,16],[125,22,131,18],[126,10,132,6],[126,14,132,12,"errorMessage"],[126,26,132,24],[126,29,132,27,"err"],[126,32,132,30],[126,44,132,42,"Error"],[126,49,132,47],[126,52,132,50,"err"],[126,55,132,53],[126,56,132,54,"message"],[126,63,132,61],[126,66,132,64],[126,81,132,79],[127,10,133,6,"console"],[127,17,133,13],[127,18,133,14,"error"],[127,23,133,19],[127,24,133,20],[127,50,133,46],[127,52,133,48,"errorMessage"],[127,64,133,60],[127,65,133,61],[128,10,134,6,"setError"],[128,18,134,14],[128,19,134,15,"errorMessage"],[128,31,134,27],[128,32,134,28],[129,10,135,6,"setLoading"],[129,20,135,16],[129,21,135,17],[129,26,135,22],[129,27,135,23],[130,10,136,6],[130,17,136,13],[130,21,136,17],[131,8,137,4],[132,6,138,2],[132,7,138,3],[133,6,138,3],[133,22,73,8,"estimate"],[133,30,73,16,"estimate"],[133,31,73,16,"_x"],[133,33,73,16],[134,8,73,16],[134,15,73,16,"_ref"],[134,19,73,16],[134,20,73,16,"apply"],[134,25,73,16],[134,32,73,16,"arguments"],[134,41,73,16],[135,6,73,16],[136,4,73,16],[136,7,138,3],[137,4,140,2],[137,8,140,8,"clearResult"],[137,19,140,19],[137,22,140,22,"clearResult"],[137,23,140,22],[137,28,140,28],[138,6,141,4,"setResult"],[138,15,141,13],[138,16,141,14],[138,20,141,18],[138,21,141,19],[139,6,142,4,"setError"],[139,14,142,12],[139,15,142,13],[139,19,142,17],[139,20,142,18],[140,4,143,2],[140,5,143,3],[141,4,145,2],[141,11,145,9],[142,6,146,4,"estimate"],[142,14,146,12],[143,6,147,4,"loading"],[143,13,147,11],[144,6,148,4,"error"],[144,11,148,9],[145,6,149,4,"result"],[145,12,149,10],[146,6,150,4,"clearResult"],[147,4,151,2],[147,5,151,3],[148,2,152,0],[148,3,152,1],[149,0,152,2],[149,3]],"functionMap":{"names":["<global>","useWindShelter","estimate","clearResult"],"mappings":"AAA;8BCmE;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}