{"dependencies":[{"name":"./_lib/normalizeDates.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":13,"index":74},"end":{"line":3,"column":49,"index":110}}],"key":"dSlASOnJeZovMCBZXKYy3uNRwjo="}},{"name":"./compareAsc.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":14,"index":126},"end":{"line":4,"column":41,"index":153}}],"key":"0uxMrQke2m7XtEi1/E69Gmkxt2M="}},{"name":"./differenceInCalendarYears.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":14,"index":169},"end":{"line":5,"column":56,"index":211}}],"key":"K/7nm6p8M6VIWoqhvo3am+9F5p0="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.differenceInYears = differenceInYears;\n  var _index = require(_dependencyMap[0], \"./_lib/normalizeDates.cjs\");\n  var _index2 = require(_dependencyMap[1], \"./compareAsc.cjs\");\n  var _index3 = require(_dependencyMap[2], \"./differenceInCalendarYears.cjs\");\n\n  /**\n   * The {@link differenceInYears} function options.\n   */\n\n  /**\n   * @name differenceInYears\n   * @category Year Helpers\n   * @summary Get the number of full years between the given dates.\n   *\n   * @description\n   * Get the number of full years between the given dates.\n   *\n   * @param laterDate - The later date\n   * @param earlierDate - The earlier date\n   * @param options - An object with options\n   *\n   * @returns The number of full years\n   *\n   * @example\n   * // How many full years are between 31 December 2013 and 11 February 2015?\n   * const result = differenceInYears(new Date(2015, 1, 11), new Date(2013, 11, 31))\n   * //=> 1\n   */\n  function differenceInYears(laterDate, earlierDate, options) {\n    const [laterDate_, earlierDate_] = (0, _index.normalizeDates)(options?.in, laterDate, earlierDate);\n\n    // -1 if the left date is earlier than the right date\n    // 2023-12-31 - 2024-01-01 = -1\n    const sign = (0, _index2.compareAsc)(laterDate_, earlierDate_);\n\n    // First calculate the difference in calendar years\n    // 2024-01-01 - 2023-12-31 = 1 year\n    const diff = Math.abs((0, _index3.differenceInCalendarYears)(laterDate_, earlierDate_));\n\n    // Now we need to calculate if the difference is full. To do that we set\n    // both dates to the same year and check if the both date's month and day\n    // form a full year.\n    laterDate_.setFullYear(1584);\n    earlierDate_.setFullYear(1584);\n\n    // For it to be true, when the later date is indeed later than the earlier date\n    // (2026-02-01 - 2023-12-10 = 3 years), the difference is full if\n    // the normalized later date is also later than the normalized earlier date.\n    // In our example, 1584-02-01 is earlier than 1584-12-10, so the difference\n    // is partial, hence we need to subtract 1 from the difference 3 - 1 = 2.\n    const partial = (0, _index2.compareAsc)(laterDate_, earlierDate_) === -sign;\n    const result = sign * (diff - +partial);\n\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  }\n});","lineCount":60,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"exports"],[4,9,2,7],[4,10,2,8,"differenceInYears"],[4,27,2,25],[4,30,2,28,"differenceInYears"],[4,47,2,45],[5,2,3,0],[5,6,3,4,"_index"],[5,12,3,10],[5,15,3,13,"require"],[5,22,3,20],[5,23,3,20,"_dependencyMap"],[5,37,3,20],[5,69,3,48],[5,70,3,49],[6,2,4,0],[6,6,4,4,"_index2"],[6,13,4,11],[6,16,4,14,"require"],[6,23,4,21],[6,24,4,21,"_dependencyMap"],[6,38,4,21],[6,61,4,40],[6,62,4,41],[7,2,5,0],[7,6,5,4,"_index3"],[7,13,5,11],[7,16,5,14,"require"],[7,23,5,21],[7,24,5,21,"_dependencyMap"],[7,38,5,21],[7,76,5,55],[7,77,5,56],[9,2,7,0],[10,0,8,0],[11,0,9,0],[13,2,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,0,21,0],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,0,26,0],[29,0,27,0],[30,0,28,0],[31,0,29,0],[32,2,30,0],[32,11,30,9,"differenceInYears"],[32,28,30,26,"differenceInYears"],[32,29,30,27,"laterDate"],[32,38,30,36],[32,40,30,38,"earlierDate"],[32,51,30,49],[32,53,30,51,"options"],[32,60,30,58],[32,62,30,60],[33,4,31,2],[33,10,31,8],[33,11,31,9,"laterDate_"],[33,21,31,19],[33,23,31,21,"earlierDate_"],[33,35,31,33],[33,36,31,34],[33,39,31,37],[33,40,31,38],[33,41,31,39],[33,43,31,41,"_index"],[33,49,31,47],[33,50,31,48,"normalizeDates"],[33,64,31,62],[33,66,32,4,"options"],[33,73,32,11],[33,75,32,13,"in"],[33,77,32,15],[33,79,33,4,"laterDate"],[33,88,33,13],[33,90,34,4,"earlierDate"],[33,101,35,2],[33,102,35,3],[35,4,37,2],[36,4,38,2],[37,4,39,2],[37,10,39,8,"sign"],[37,14,39,12],[37,17,39,15],[37,18,39,16],[37,19,39,17],[37,21,39,19,"_index2"],[37,28,39,26],[37,29,39,27,"compareAsc"],[37,39,39,37],[37,41,39,39,"laterDate_"],[37,51,39,49],[37,53,39,51,"earlierDate_"],[37,65,39,63],[37,66,39,64],[39,4,41,2],[40,4,42,2],[41,4,43,2],[41,10,43,8,"diff"],[41,14,43,12],[41,17,43,15,"Math"],[41,21,43,19],[41,22,43,20,"abs"],[41,25,43,23],[41,26,44,4],[41,27,44,5],[41,28,44,6],[41,30,44,8,"_index3"],[41,37,44,15],[41,38,44,16,"differenceInCalendarYears"],[41,63,44,41],[41,65,44,43,"laterDate_"],[41,75,44,53],[41,77,44,55,"earlierDate_"],[41,89,44,67],[41,90,45,2],[41,91,45,3],[43,4,47,2],[44,4,48,2],[45,4,49,2],[46,4,50,2,"laterDate_"],[46,14,50,12],[46,15,50,13,"setFullYear"],[46,26,50,24],[46,27,50,25],[46,31,50,29],[46,32,50,30],[47,4,51,2,"earlierDate_"],[47,16,51,14],[47,17,51,15,"setFullYear"],[47,28,51,26],[47,29,51,27],[47,33,51,31],[47,34,51,32],[49,4,53,2],[50,4,54,2],[51,4,55,2],[52,4,56,2],[53,4,57,2],[54,4,58,2],[54,10,58,8,"partial"],[54,17,58,15],[54,20,58,18],[54,21,58,19],[54,22,58,20],[54,24,58,22,"_index2"],[54,31,58,29],[54,32,58,30,"compareAsc"],[54,42,58,40],[54,44,58,42,"laterDate_"],[54,54,58,52],[54,56,58,54,"earlierDate_"],[54,68,58,66],[54,69,58,67],[54,74,58,72],[54,75,58,73,"sign"],[54,79,58,77],[55,4,60,2],[55,10,60,8,"result"],[55,16,60,14],[55,19,60,17,"sign"],[55,23,60,21],[55,27,60,25,"diff"],[55,31,60,29],[55,34,60,32],[55,35,60,33,"partial"],[55,42,60,40],[55,43,60,41],[57,4,62,2],[58,4,63,2],[58,11,63,9,"result"],[58,17,63,15],[58,22,63,20],[58,23,63,21],[58,26,63,24],[58,27,63,25],[58,30,63,28,"result"],[58,36,63,34],[59,2,64,0],[60,0,64,1],[60,3]],"functionMap":{"names":["<global>","differenceInYears"],"mappings":"AAA;AC6B;CDkC"}},"type":"js/module"}]}