{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":206},"end":{"line":8,"column":33,"index":239}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":240},"end":{"line":9,"column":69,"index":309}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"usePropaneUsage\", {\n    enumerable: true,\n    get: function () {\n      return usePropaneUsage;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * usePropaneUsage - React Hook for Propane Consumption Estimation\n   *\n   * Custom hook for calling the propane usage API endpoint and managing state.\n   * Follows the same pattern as useSolarForecast.\n   */\n\n  var API_BASE = 'http://localhost:8000';\n\n  // Type-safe interfaces matching API models\n\n  /**\n   * Hook for propane usage estimation\n   *\n   * Usage:\n   * ```typescript\n   * const { estimate, loading, error, result } = usePropaneUsage();\n   *\n   * await estimate({\n   *   furnace_btu: 20000,\n   *   duty_cycle_pct: 50,\n   *   nights_temp_f: [35, 25, 45],\n   *   people: 2,\n   * });\n   *\n   * if (result?.is_premium_locked) {\n   * // Handle premium response\n   * } else if (result?.daily_lbs) {\n   *   // Display results\n   * }\n   * ```\n   */\n  var usePropaneUsage = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var estimate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Retrieve subscription ID from AsyncStorage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            try {\n              subscriptionId = yield AsyncStorage.default.getItem('subscription_id');\n            } catch (e) {\n              console.log('Could not retrieve subscription ID from storage');\n            }\n          }\n\n          // Call API endpoint\n          var response = yield fetch(`${API_BASE}/api/pro/propane-usage`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              ...request,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            // Try to parse error detail from response\n            var errorDetail = `HTTP ${response.status}`;\n            try {\n              var errorData = yield response.json();\n              if (errorData.detail) {\n                errorDetail = errorData.detail;\n              }\n            } catch {\n              // If response isn't JSON, use status message\n              errorDetail = response.statusText || `HTTP ${response.status}`;\n            }\n            throw new Error(errorDetail);\n          }\n          var data = yield response.json();\n\n          // Detect premium-locked response\n          if (data.is_premium_locked && data.premium_message) {\n            setError(data.premium_message);\n            setResult(data);\n            setLoading(false);\n            return data;\n          }\n\n          // Success\n          setResult(data);\n          setLoading(false);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error';\n          console.error('Error in usePropaneUsage:', errorMessage);\n          setError(errorMessage);\n          setLoading(false);\n          return null;\n        }\n      });\n      return function estimate(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      estimate,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":148,"map":[[12,2,63,0,"Object"],[12,8,63,0],[12,9,63,0,"defineProperty"],[12,23,63,0],[12,24,63,0,"exports"],[12,31,63,0],[13,4,63,0,"enumerable"],[13,14,63,0],[14,4,63,0,"get"],[14,7,63,0],[14,18,63,0,"get"],[14,19,63,0],[15,6,63,0],[15,13,63,0,"usePropaneUsage"],[15,28,63,0],[16,4,63,0],[17,2,63,0],[18,2,147,2],[18,6,147,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,147,2],[18,45,147,2,"require"],[18,52,147,2],[18,53,147,2,"_dependencyMap"],[18,67,147,2],[19,2,147,2],[19,6,147,2,"_asyncToGenerator"],[19,23,147,2],[19,26,147,2,"_interopDefault"],[19,41,147,2],[19,42,147,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,147,2],[20,2,147,2],[20,6,147,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,147,2],[20,42,147,2,"require"],[20,49,147,2],[20,50,147,2,"_dependencyMap"],[20,64,147,2],[21,2,147,2],[21,6,147,2,"_slicedToArray"],[21,20,147,2],[21,23,147,2,"_interopDefault"],[21,38,147,2],[21,39,147,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,147,2],[22,2,8,0],[22,6,8,0,"_react"],[22,12,8,0],[22,15,8,0,"require"],[22,22,8,0],[22,23,8,0,"_dependencyMap"],[22,37,8,0],[23,2,9,0],[23,6,9,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,9,0],[23,45,9,0,"require"],[23,52,9,0],[23,53,9,0,"_dependencyMap"],[23,67,9,0],[24,2,9,0],[24,6,9,0,"AsyncStorage"],[24,18,9,0],[24,21,9,0,"_interopDefault"],[24,36,9,0],[24,37,9,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,9,0],[25,2,1,0],[26,0,2,0],[27,0,3,0],[28,0,4,0],[29,0,5,0],[30,0,6,0],[32,2,11,0],[32,6,11,6,"API_BASE"],[32,14,11,14],[32,17,11,53],[32,40,11,76],[34,2,13,0],[36,2,42,0],[37,0,43,0],[38,0,44,0],[39,0,45,0],[40,0,46,0],[41,0,47,0],[42,0,48,0],[43,0,49,0],[44,0,50,0],[45,0,51,0],[46,0,52,0],[47,0,53,0],[48,0,54,0],[49,0,55,0],[50,0,56,0],[51,0,57,0],[52,0,58,0],[53,0,59,0],[54,0,60,0],[55,0,61,0],[56,0,62,0],[57,2,63,7],[57,6,63,13,"usePropaneUsage"],[57,21,63,28],[57,24,63,31,"usePropaneUsage"],[57,25,63,31],[57,30,63,60],[58,4,64,2],[58,8,64,2,"_useState"],[58,17,64,2],[58,20,64,32],[58,24,64,32,"useState"],[58,30,64,40],[58,31,64,40,"useState"],[58,39,64,40],[58,41,64,41],[58,46,64,46],[58,47,64,47],[59,6,64,47,"_useState2"],[59,16,64,47],[59,23,64,47,"_slicedToArray"],[59,37,64,47],[59,38,64,47,"default"],[59,45,64,47],[59,47,64,47,"_useState"],[59,56,64,47],[60,6,64,9,"loading"],[60,13,64,16],[60,16,64,16,"_useState2"],[60,26,64,16],[61,6,64,18,"setLoading"],[61,16,64,28],[61,19,64,28,"_useState2"],[61,29,64,28],[62,4,65,2],[62,8,65,2,"_useState3"],[62,18,65,2],[62,21,65,28],[62,25,65,28,"useState"],[62,31,65,36],[62,32,65,36,"useState"],[62,40,65,36],[62,42,65,52],[62,46,65,56],[62,47,65,57],[63,6,65,57,"_useState4"],[63,16,65,57],[63,23,65,57,"_slicedToArray"],[63,37,65,57],[63,38,65,57,"default"],[63,45,65,57],[63,47,65,57,"_useState3"],[63,57,65,57],[64,6,65,9,"error"],[64,11,65,14],[64,14,65,14,"_useState4"],[64,24,65,14],[65,6,65,16,"setError"],[65,14,65,24],[65,17,65,24,"_useState4"],[65,27,65,24],[66,4,66,2],[66,8,66,2,"_useState5"],[66,18,66,2],[66,21,66,30],[66,25,66,30,"useState"],[66,31,66,38],[66,32,66,38,"useState"],[66,40,66,38],[66,42,66,68],[66,46,66,72],[66,47,66,73],[67,6,66,73,"_useState6"],[67,16,66,73],[67,23,66,73,"_slicedToArray"],[67,37,66,73],[67,38,66,73,"default"],[67,45,66,73],[67,47,66,73,"_useState5"],[67,57,66,73],[68,6,66,9,"result"],[68,12,66,15],[68,15,66,15,"_useState6"],[68,25,66,15],[69,6,66,17,"setResult"],[69,15,66,26],[69,18,66,26,"_useState6"],[69,28,66,26],[70,4,68,2],[70,8,68,8,"estimate"],[70,16,68,16],[71,6,68,16],[71,10,68,16,"_ref"],[71,14,68,16],[71,21,68,16,"_asyncToGenerator"],[71,38,68,16],[71,39,68,16,"default"],[71,46,68,16],[71,48,68,19],[71,59,69,4,"request"],[71,66,69,32],[71,68,70,45],[72,8,71,4,"setLoading"],[72,18,71,14],[72,19,71,15],[72,23,71,19],[72,24,71,20],[73,8,72,4,"setError"],[73,16,72,12],[73,17,72,13],[73,21,72,17],[73,22,72,18],[74,8,74,4],[74,12,74,8],[75,10,75,6],[76,10,76,6],[76,14,76,10,"subscriptionId"],[76,28,76,24],[76,31,76,27,"request"],[76,38,76,34],[76,39,76,35,"subscription_id"],[76,54,76,50],[77,10,77,6],[77,14,77,10],[77,15,77,11,"subscriptionId"],[77,29,77,25],[77,31,77,27],[78,12,78,8],[78,16,78,12],[79,14,79,10,"subscriptionId"],[79,28,79,24],[79,37,79,33,"AsyncStorage"],[79,49,79,45],[79,50,79,45,"default"],[79,57,79,45],[79,58,79,46,"getItem"],[79,65,79,53],[79,66,79,54],[79,83,79,71],[79,84,79,72],[80,12,80,8],[80,13,80,9],[80,14,80,10],[80,21,80,17,"e"],[80,22,80,18],[80,24,80,20],[81,14,81,10,"console"],[81,21,81,17],[81,22,81,18,"log"],[81,25,81,21],[81,26,81,22],[81,75,81,71],[81,76,81,72],[82,12,82,8],[83,10,83,6],[85,10,85,6],[86,10,86,6],[86,14,86,12,"response"],[86,22,86,20],[86,31,86,29,"fetch"],[86,36,86,34],[86,37,86,35],[86,40,86,38,"API_BASE"],[86,48,86,46],[86,72,86,70],[86,74,86,72],[87,12,87,8,"method"],[87,18,87,14],[87,20,87,16],[87,26,87,22],[88,12,88,8,"headers"],[88,19,88,15],[88,21,88,17],[89,14,89,10],[89,28,89,24],[89,30,89,26],[90,12,90,8],[90,13,90,9],[91,12,91,8,"body"],[91,16,91,12],[91,18,91,14,"JSON"],[91,22,91,18],[91,23,91,19,"stringify"],[91,32,91,28],[91,33,91,29],[92,14,92,10],[92,17,92,13,"request"],[92,24,92,20],[93,14,93,10,"subscription_id"],[93,29,93,25],[93,31,93,27,"subscriptionId"],[94,12,94,8],[94,13,94,9],[95,10,95,6],[95,11,95,7],[95,12,95,8],[96,10,97,6],[96,14,97,10],[96,15,97,11,"response"],[96,23,97,19],[96,24,97,20,"ok"],[96,26,97,22],[96,28,97,24],[97,12,98,8],[98,12,99,8],[98,16,99,12,"errorDetail"],[98,27,99,23],[98,30,99,26],[98,38,99,34,"response"],[98,46,99,42],[98,47,99,43,"status"],[98,53,99,49],[98,55,99,51],[99,12,100,8],[99,16,100,12],[100,14,101,10],[100,18,101,16,"errorData"],[100,27,101,25],[100,36,101,34,"response"],[100,44,101,42],[100,45,101,43,"json"],[100,49,101,47],[100,50,101,48],[100,51,101,49],[101,14,102,10],[101,18,102,14,"errorData"],[101,27,102,23],[101,28,102,24,"detail"],[101,34,102,30],[101,36,102,32],[102,16,103,12,"errorDetail"],[102,27,103,23],[102,30,103,26,"errorData"],[102,39,103,35],[102,40,103,36,"detail"],[102,46,103,42],[103,14,104,10],[104,12,105,8],[104,13,105,9],[104,14,105,10],[104,20,105,16],[105,14,106,10],[106,14,107,10,"errorDetail"],[106,25,107,21],[106,28,107,24,"response"],[106,36,107,32],[106,37,107,33,"statusText"],[106,47,107,43],[106,51,107,47],[106,59,107,55,"response"],[106,67,107,63],[106,68,107,64,"status"],[106,74,107,70],[106,76,107,72],[107,12,108,8],[108,12,109,8],[108,18,109,14],[108,22,109,18,"Error"],[108,27,109,23],[108,28,109,24,"errorDetail"],[108,39,109,35],[108,40,109,36],[109,10,110,6],[110,10,112,6],[110,14,112,12,"data"],[110,18,112,38],[110,27,112,47,"response"],[110,35,112,55],[110,36,112,56,"json"],[110,40,112,60],[110,41,112,61],[110,42,112,62],[112,10,114,6],[113,10,115,6],[113,14,115,10,"data"],[113,18,115,14],[113,19,115,15,"is_premium_locked"],[113,36,115,32],[113,40,115,36,"data"],[113,44,115,40],[113,45,115,41,"premium_message"],[113,60,115,56],[113,62,115,58],[114,12,116,8,"setError"],[114,20,116,16],[114,21,116,17,"data"],[114,25,116,21],[114,26,116,22,"premium_message"],[114,41,116,37],[114,42,116,38],[115,12,117,8,"setResult"],[115,21,117,17],[115,22,117,18,"data"],[115,26,117,22],[115,27,117,23],[116,12,118,8,"setLoading"],[116,22,118,18],[116,23,118,19],[116,28,118,24],[116,29,118,25],[117,12,119,8],[117,19,119,15,"data"],[117,23,119,19],[118,10,120,6],[120,10,122,6],[121,10,123,6,"setResult"],[121,19,123,15],[121,20,123,16,"data"],[121,24,123,20],[121,25,123,21],[122,10,124,6,"setLoading"],[122,20,124,16],[122,21,124,17],[122,26,124,22],[122,27,124,23],[123,10,125,6],[123,17,125,13,"data"],[123,21,125,17],[124,8,126,4],[124,9,126,5],[124,10,126,6],[124,17,126,13,"err"],[124,20,126,16],[124,22,126,18],[125,10,127,6],[125,14,127,12,"errorMessage"],[125,26,127,24],[125,29,127,27,"err"],[125,32,127,30],[125,44,127,42,"Error"],[125,49,127,47],[125,52,127,50,"err"],[125,55,127,53],[125,56,127,54,"message"],[125,63,127,61],[125,66,127,64],[125,81,127,79],[126,10,128,6,"console"],[126,17,128,13],[126,18,128,14,"error"],[126,23,128,19],[126,24,128,20],[126,51,128,47],[126,53,128,49,"errorMessage"],[126,65,128,61],[126,66,128,62],[127,10,129,6,"setError"],[127,18,129,14],[127,19,129,15,"errorMessage"],[127,31,129,27],[127,32,129,28],[128,10,130,6,"setLoading"],[128,20,130,16],[128,21,130,17],[128,26,130,22],[128,27,130,23],[129,10,131,6],[129,17,131,13],[129,21,131,17],[130,8,132,4],[131,6,133,2],[131,7,133,3],[132,6,133,3],[132,22,68,8,"estimate"],[132,30,68,16,"estimate"],[132,31,68,16,"_x"],[132,33,68,16],[133,8,68,16],[133,15,68,16,"_ref"],[133,19,68,16],[133,20,68,16,"apply"],[133,25,68,16],[133,32,68,16,"arguments"],[133,41,68,16],[134,6,68,16],[135,4,68,16],[135,7,133,3],[136,4,135,2],[136,8,135,8,"clearResult"],[136,19,135,19],[136,22,135,22,"clearResult"],[136,23,135,22],[136,28,135,28],[137,6,136,4,"setResult"],[137,15,136,13],[137,16,136,14],[137,20,136,18],[137,21,136,19],[138,6,137,4,"setError"],[138,14,137,12],[138,15,137,13],[138,19,137,17],[138,20,137,18],[139,4,138,2],[139,5,138,3],[140,4,140,2],[140,11,140,9],[141,6,141,4,"estimate"],[141,14,141,12],[142,6,142,4,"loading"],[142,13,142,11],[143,6,143,4,"error"],[143,11,143,9],[144,6,144,4,"result"],[144,12,144,10],[145,6,145,4,"clearResult"],[146,4,146,2],[146,5,146,3],[147,2,147,0],[147,3,147,1],[148,0,147,2],[148,3]],"functionMap":{"names":["<global>","usePropaneUsage","estimate","clearResult"],"mappings":"AAA;+BC8D;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}