{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSolarForecast\", {\n    enumerable: true,\n    get: function () {\n      return useSolarForecast;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _apiConfig = require(_dependencyMap[3]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for forecasting daily solar energy generation\n   * \n   * Features:\n   * - Pure deterministic calculations\n   * - Accounts for latitude, season, cloud cover, and shade\n   * - Returns Wh/day estimates for multi-day forecasts\n   * \n   * Usage:\n   * ```\n   * const { forecast, loading, result, error } = useSolarForecast();\n   * \n   * const forecast_data = await forecast({\n   *   lat: 34.05,\n   *   lon: -111.03,\n   *   date_range: [\"2026-01-20\", \"2026-01-21\"],\n   *   panel_watts: 400,\n   *   shade_pct: 15,\n   *   cloud_cover: [10, 50],\n   * });\n   * ```\n   */\n  var useSolarForecast = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var forecast = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/solar-forecast`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              lat: request.lat,\n              lon: request.lon,\n              date_range: request.date_range,\n              panel_watts: request.panel_watts,\n              shade_pct: request.shade_pct,\n              cloud_cover: request.cloud_cover,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires a premium subscription.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error forecasting solar energy';\n          setError(errorMessage);\n          console.error('[SolarForecast] Forecast error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function forecast(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      forecast,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":123,"map":[[12,2,55,0,"Object"],[12,8,55,0],[12,9,55,0,"defineProperty"],[12,23,55,0],[12,24,55,0,"exports"],[12,31,55,0],[13,4,55,0,"enumerable"],[13,14,55,0],[14,4,55,0,"get"],[14,7,55,0],[14,18,55,0,"get"],[14,19,55,0],[15,6,55,0],[15,13,55,0,"useSolarForecast"],[15,29,55,0],[16,4,55,0],[17,2,55,0],[18,2,132,2],[18,6,132,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,132,2],[18,45,132,2,"require"],[18,52,132,2],[18,53,132,2,"_dependencyMap"],[18,67,132,2],[19,2,132,2],[19,6,132,2,"_asyncToGenerator"],[19,23,132,2],[19,26,132,2,"_interopDefault"],[19,41,132,2],[19,42,132,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,132,2],[20,2,132,2],[20,6,132,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,132,2],[20,42,132,2,"require"],[20,49,132,2],[20,50,132,2,"_dependencyMap"],[20,64,132,2],[21,2,132,2],[21,6,132,2,"_slicedToArray"],[21,20,132,2],[21,23,132,2,"_interopDefault"],[21,38,132,2],[21,39,132,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,132,2],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_apiConfig"],[23,16,2,0],[23,19,2,0,"require"],[23,26,2,0],[23,27,2,0,"_dependencyMap"],[23,41,2,0],[24,2,3,0],[24,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,3,0],[24,45,3,0,"require"],[24,52,3,0],[24,53,3,0,"_dependencyMap"],[24,67,3,0],[25,2,3,0],[25,6,3,0,"AsyncStorage"],[25,18,3,0],[25,21,3,0,"_interopDefault"],[25,36,3,0],[25,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,3,0],[26,2,33,0],[27,0,34,0],[28,0,35,0],[29,0,36,0],[30,0,37,0],[31,0,38,0],[32,0,39,0],[33,0,40,0],[34,0,41,0],[35,0,42,0],[36,0,43,0],[37,0,44,0],[38,0,45,0],[39,0,46,0],[40,0,47,0],[41,0,48,0],[42,0,49,0],[43,0,50,0],[44,0,51,0],[45,0,52,0],[46,0,53,0],[47,0,54,0],[48,2,55,7],[48,6,55,13,"useSolarForecast"],[48,22,55,29],[48,25,55,32,"useSolarForecast"],[48,26,55,32],[48,31,55,62],[49,4,56,2],[49,8,56,2,"_useState"],[49,17,56,2],[49,20,56,32],[49,24,56,32,"useState"],[49,30,56,40],[49,31,56,40,"useState"],[49,39,56,40],[49,41,56,41],[49,46,56,46],[49,47,56,47],[50,6,56,47,"_useState2"],[50,16,56,47],[50,23,56,47,"_slicedToArray"],[50,37,56,47],[50,38,56,47,"default"],[50,45,56,47],[50,47,56,47,"_useState"],[50,56,56,47],[51,6,56,9,"loading"],[51,13,56,16],[51,16,56,16,"_useState2"],[51,26,56,16],[52,6,56,18,"setLoading"],[52,16,56,28],[52,19,56,28,"_useState2"],[52,29,56,28],[53,4,57,2],[53,8,57,2,"_useState3"],[53,18,57,2],[53,21,57,28],[53,25,57,28,"useState"],[53,31,57,36],[53,32,57,36,"useState"],[53,40,57,36],[53,42,57,52],[53,46,57,56],[53,47,57,57],[54,6,57,57,"_useState4"],[54,16,57,57],[54,23,57,57,"_slicedToArray"],[54,37,57,57],[54,38,57,57,"default"],[54,45,57,57],[54,47,57,57,"_useState3"],[54,57,57,57],[55,6,57,9,"error"],[55,11,57,14],[55,14,57,14,"_useState4"],[55,24,57,14],[56,6,57,16,"setError"],[56,14,57,24],[56,17,57,24,"_useState4"],[56,27,57,24],[57,4,58,2],[57,8,58,2,"_useState5"],[57,18,58,2],[57,21,58,30],[57,25,58,30,"useState"],[57,31,58,38],[57,32,58,38,"useState"],[57,40,58,38],[57,42,58,69],[57,46,58,73],[57,47,58,74],[58,6,58,74,"_useState6"],[58,16,58,74],[58,23,58,74,"_slicedToArray"],[58,37,58,74],[58,38,58,74,"default"],[58,45,58,74],[58,47,58,74,"_useState5"],[58,57,58,74],[59,6,58,9,"result"],[59,12,58,15],[59,15,58,15,"_useState6"],[59,25,58,15],[60,6,58,17,"setResult"],[60,15,58,26],[60,18,58,26,"_useState6"],[60,28,58,26],[61,4,60,2],[61,8,60,8,"forecast"],[61,16,60,16],[62,6,60,16],[62,10,60,16,"_ref"],[62,14,60,16],[62,21,60,16,"_asyncToGenerator"],[62,38,60,16],[62,39,60,16,"default"],[62,46,60,16],[62,48,60,19],[62,59,61,4,"request"],[62,66,61,33],[62,68,62,39],[63,8,63,4,"setLoading"],[63,18,63,14],[63,19,63,15],[63,23,63,19],[63,24,63,20],[64,8,64,4,"setError"],[64,16,64,12],[64,17,64,13],[64,21,64,17],[64,22,64,18],[65,8,66,4],[65,12,66,8],[66,10,67,6],[67,10,68,6],[67,14,68,10,"subscriptionId"],[67,28,68,24],[67,31,68,27,"request"],[67,38,68,34],[67,39,68,35,"subscription_id"],[67,54,68,50],[68,10,69,6],[68,14,69,10],[68,15,69,11,"subscriptionId"],[68,29,69,25],[68,31,69,27],[69,12,70,8,"subscriptionId"],[69,26,70,22],[69,35,70,31,"AsyncStorage"],[69,47,70,43],[69,48,70,43,"default"],[69,55,70,43],[69,56,70,44,"getItem"],[69,63,70,51],[69,64,70,52],[69,91,70,79],[69,92,70,80],[70,10,71,6],[71,10,73,6],[71,14,73,12,"response"],[71,22,73,20],[71,31,73,29,"fetch"],[71,36,73,34],[71,37,73,35],[71,40,73,38,"API_BASE"],[71,50,73,46],[71,51,73,46,"API_BASE"],[71,59,73,46],[71,84,73,71],[71,86,73,73],[72,12,74,8,"method"],[72,18,74,14],[72,20,74,16],[72,26,74,22],[73,12,75,8,"headers"],[73,19,75,15],[73,21,75,17],[74,14,76,10],[74,28,76,24],[74,30,76,26],[75,12,77,8],[75,13,77,9],[76,12,78,8,"body"],[76,16,78,12],[76,18,78,14,"JSON"],[76,22,78,18],[76,23,78,19,"stringify"],[76,32,78,28],[76,33,78,29],[77,14,79,10,"lat"],[77,17,79,13],[77,19,79,15,"request"],[77,26,79,22],[77,27,79,23,"lat"],[77,30,79,26],[78,14,80,10,"lon"],[78,17,80,13],[78,19,80,15,"request"],[78,26,80,22],[78,27,80,23,"lon"],[78,30,80,26],[79,14,81,10,"date_range"],[79,24,81,20],[79,26,81,22,"request"],[79,33,81,29],[79,34,81,30,"date_range"],[79,44,81,40],[80,14,82,10,"panel_watts"],[80,25,82,21],[80,27,82,23,"request"],[80,34,82,30],[80,35,82,31,"panel_watts"],[80,46,82,42],[81,14,83,10,"shade_pct"],[81,23,83,19],[81,25,83,21,"request"],[81,32,83,28],[81,33,83,29,"shade_pct"],[81,42,83,38],[82,14,84,10,"cloud_cover"],[82,25,84,21],[82,27,84,23,"request"],[82,34,84,30],[82,35,84,31,"cloud_cover"],[82,46,84,42],[83,14,85,10,"subscription_id"],[83,29,85,25],[83,31,85,27,"subscriptionId"],[84,12,86,8],[84,13,86,9],[85,10,87,6],[85,11,87,7],[85,12,87,8],[86,10,89,6],[86,14,89,10],[86,15,89,11,"response"],[86,23,89,19],[86,24,89,20,"ok"],[86,26,89,22],[86,28,89,24],[87,12,90,8],[87,16,90,14,"errorData"],[87,25,90,23],[87,34,90,32,"response"],[87,42,90,40],[87,43,90,41,"json"],[87,47,90,45],[87,48,90,46],[87,49,90,47],[88,12,91,8],[88,18,91,14],[88,22,91,18,"Error"],[88,27,91,23],[88,28,92,10,"errorData"],[88,37,92,19],[88,38,92,20,"detail"],[88,44,92,26],[88,48,92,30],[88,62,92,44,"response"],[88,70,92,52],[88,71,92,53,"status"],[88,77,92,59],[88,79,93,8],[88,80,93,9],[89,10,94,6],[90,10,96,6],[90,14,96,12,"data"],[90,18,96,39],[90,27,96,48,"response"],[90,35,96,56],[90,36,96,57,"json"],[90,40,96,61],[90,41,96,62],[90,42,96,63],[92,10,98,6],[93,10,99,6],[93,14,99,10,"data"],[93,18,99,14],[93,19,99,15,"is_premium_locked"],[93,36,99,32],[93,38,99,34],[94,12,100,8,"setError"],[94,20,100,16],[94,21,101,10,"data"],[94,25,101,14],[94,26,101,15,"premium_message"],[94,41,101,30],[94,45,102,10],[94,92,103,8],[94,93,103,9],[95,10,104,6],[96,10,106,6,"setResult"],[96,19,106,15],[96,20,106,16,"data"],[96,24,106,20],[96,25,106,21],[97,10,107,6],[97,17,107,13,"data"],[97,21,107,17],[98,8,108,4],[98,9,108,5],[98,10,108,6],[98,17,108,13,"err"],[98,20,108,16],[98,22,108,18],[99,10,109,6],[99,14,109,12,"errorMessage"],[99,26,109,24],[99,29,110,8,"err"],[99,32,110,11],[99,44,110,23,"Error"],[99,49,110,28],[99,52,110,31,"err"],[99,55,110,34],[99,56,110,35,"message"],[99,63,110,42],[99,66,110,45],[99,106,110,85],[100,10,111,6,"setError"],[100,18,111,14],[100,19,111,15,"errorMessage"],[100,31,111,27],[100,32,111,28],[101,10,112,6,"console"],[101,17,112,13],[101,18,112,14,"error"],[101,23,112,19],[101,24,112,20],[101,57,112,53],[101,59,112,55,"errorMessage"],[101,71,112,67],[101,72,112,68],[102,10,114,6],[102,16,114,12,"err"],[102,19,114,15],[103,8,115,4],[103,9,115,5],[103,18,115,14],[104,10,116,6,"setLoading"],[104,20,116,16],[104,21,116,17],[104,26,116,22],[104,27,116,23],[105,8,117,4],[106,6,118,2],[106,7,118,3],[107,6,118,3],[107,22,60,8,"forecast"],[107,30,60,16,"forecast"],[107,31,60,16,"_x"],[107,33,60,16],[108,8,60,16],[108,15,60,16,"_ref"],[108,19,60,16],[108,20,60,16,"apply"],[108,25,60,16],[108,32,60,16,"arguments"],[108,41,60,16],[109,6,60,16],[110,4,60,16],[110,7,118,3],[111,4,120,2],[111,8,120,8,"clearResult"],[111,19,120,19],[111,22,120,22,"clearResult"],[111,23,120,22],[111,28,120,28],[112,6,121,4,"setResult"],[112,15,121,13],[112,16,121,14],[112,20,121,18],[112,21,121,19],[113,6,122,4,"setError"],[113,14,122,12],[113,15,122,13],[113,19,122,17],[113,20,122,18],[114,4,123,2],[114,5,123,3],[115,4,125,2],[115,11,125,9],[116,6,126,4,"forecast"],[116,14,126,12],[117,6,127,4,"loading"],[117,13,127,11],[118,6,128,4,"error"],[118,11,128,9],[119,6,129,4,"result"],[119,12,129,10],[120,6,130,4,"clearResult"],[121,4,131,2],[121,5,131,3],[122,2,132,0],[122,3,132,1],[123,0,132,2],[123,3]],"functionMap":{"names":["<global>","useSolarForecast","forecast","clearResult"],"mappings":"AAA;gCCsD;mBCK;GD0D;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}