{"dependencies":[{"name":"./toDate.cjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":13,"index":68},"end":{"line":3,"column":36,"index":91}}],"key":"iNYia4k2FtOBaB7z4SzN507pchY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.closestIndexTo = closestIndexTo;\n  var _index = require(_dependencyMap[0], \"./toDate.cjs\");\n\n  /**\n   * @name closestIndexTo\n   * @category Common Helpers\n   * @summary Return an index of the closest date from the array comparing to the given date.\n   *\n   * @description\n   * Return an index of the closest date from the array comparing to the given date.\n   *\n   * @param dateToCompare - The date to compare with\n   * @param dates - The array to search\n   *\n   * @returns An index of the date closest to the given date or undefined if no valid value is given\n   *\n   * @example\n   * // Which date is closer to 6 September 2015?\n   * const dateToCompare = new Date(2015, 8, 6)\n   * const datesArray = [\n   *   new Date(2015, 0, 1),\n   *   new Date(2016, 0, 1),\n   *   new Date(2017, 0, 1)\n   * ]\n   * const result = closestIndexTo(dateToCompare, datesArray)\n   * //=> 1\n   */\n  function closestIndexTo(dateToCompare, dates) {\n    // [TODO] It would be better to return -1 here rather than undefined, as this\n    // is how JS behaves, but it would be a breaking change, so we need\n    // to consider it for v4.\n    const timeToCompare = +(0, _index.toDate)(dateToCompare);\n    if (isNaN(timeToCompare)) return NaN;\n    let result;\n    let minDistance;\n    dates.forEach((date, index) => {\n      const date_ = (0, _index.toDate)(date);\n      if (isNaN(+date_)) {\n        result = NaN;\n        minDistance = NaN;\n        return;\n      }\n      const distance = Math.abs(timeToCompare - +date_);\n      if (result == null || distance < minDistance) {\n        result = index;\n        minDistance = distance;\n      }\n    });\n    return result;\n  }\n});","lineCount":54,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"exports"],[4,9,2,7],[4,10,2,8,"closestIndexTo"],[4,24,2,22],[4,27,2,25,"closestIndexTo"],[4,41,2,39],[5,2,3,0],[5,6,3,4,"_index"],[5,12,3,10],[5,15,3,13,"require"],[5,22,3,20],[5,23,3,20,"_dependencyMap"],[5,37,3,20],[5,56,3,35],[5,57,3,36],[7,2,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,0,21,0],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,0,26,0],[29,0,27,0],[30,0,28,0],[31,2,29,0],[31,11,29,9,"closestIndexTo"],[31,25,29,23,"closestIndexTo"],[31,26,29,24,"dateToCompare"],[31,39,29,37],[31,41,29,39,"dates"],[31,46,29,44],[31,48,29,46],[32,4,30,2],[33,4,31,2],[34,4,32,2],[35,4,33,2],[35,10,33,8,"timeToCompare"],[35,23,33,21],[35,26,33,24],[35,27,33,25],[35,28,33,26],[35,29,33,27],[35,31,33,29,"_index"],[35,37,33,35],[35,38,33,36,"toDate"],[35,44,33,42],[35,46,33,44,"dateToCompare"],[35,59,33,57],[35,60,33,58],[36,4,35,2],[36,8,35,6,"isNaN"],[36,13,35,11],[36,14,35,12,"timeToCompare"],[36,27,35,25],[36,28,35,26],[36,30,35,28],[36,37,35,35,"NaN"],[36,40,35,38],[37,4,37,2],[37,8,37,6,"result"],[37,14,37,12],[38,4,38,2],[38,8,38,6,"minDistance"],[38,19,38,17],[39,4,39,2,"dates"],[39,9,39,7],[39,10,39,8,"forEach"],[39,17,39,15],[39,18,39,16],[39,19,39,17,"date"],[39,23,39,21],[39,25,39,23,"index"],[39,30,39,28],[39,35,39,33],[40,6,40,4],[40,12,40,10,"date_"],[40,17,40,15],[40,20,40,18],[40,21,40,19],[40,22,40,20],[40,24,40,22,"_index"],[40,30,40,28],[40,31,40,29,"toDate"],[40,37,40,35],[40,39,40,37,"date"],[40,43,40,41],[40,44,40,42],[41,6,42,4],[41,10,42,8,"isNaN"],[41,15,42,13],[41,16,42,14],[41,17,42,15,"date_"],[41,22,42,20],[41,23,42,21],[41,25,42,23],[42,8,43,6,"result"],[42,14,43,12],[42,17,43,15,"NaN"],[42,20,43,18],[43,8,44,6,"minDistance"],[43,19,44,17],[43,22,44,20,"NaN"],[43,25,44,23],[44,8,45,6],[45,6,46,4],[46,6,48,4],[46,12,48,10,"distance"],[46,20,48,18],[46,23,48,21,"Math"],[46,27,48,25],[46,28,48,26,"abs"],[46,31,48,29],[46,32,48,30,"timeToCompare"],[46,45,48,43],[46,48,48,46],[46,49,48,47,"date_"],[46,54,48,52],[46,55,48,53],[47,6,49,4],[47,10,49,8,"result"],[47,16,49,14],[47,20,49,18],[47,24,49,22],[47,28,49,26,"distance"],[47,36,49,34],[47,39,49,37,"minDistance"],[47,50,49,48],[47,52,49,50],[48,8,50,6,"result"],[48,14,50,12],[48,17,50,15,"index"],[48,22,50,20],[49,8,51,6,"minDistance"],[49,19,51,17],[49,22,51,20,"distance"],[49,30,51,28],[50,6,52,4],[51,4,53,2],[51,5,53,3],[51,6,53,4],[52,4,55,2],[52,11,55,9,"result"],[52,17,55,15],[53,2,56,0],[54,0,56,1],[54,3]],"functionMap":{"names":["<global>","closestIndexTo","dates.forEach$argument_0"],"mappings":"AAA;AC4B;gBCU;GDc;CDG"}},"type":"js/module"}]}