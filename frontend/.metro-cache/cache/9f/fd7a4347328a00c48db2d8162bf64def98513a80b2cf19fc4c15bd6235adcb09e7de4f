{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":0,"index":148},"end":{"line":7,"column":33,"index":181}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useWaterBudget = void 0;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * useWaterBudget - React Hook for Water Budget Estimation\n   *\n   * Custom hook for calling the water budget API endpoint and managing state.\n   */\n\n  const API_BASE = process.env.EXPO_PUBLIC_API_BASE || 'http://localhost:8000';\n\n  // Type-safe interfaces matching API models\n\n  /**\n   * Hook for water budget estimation\n   */\n  const useWaterBudget = () => {\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const [result, setResult] = (0, _react.useState)(null);\n    const estimate = async request => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${API_BASE}/api/water-budget`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(request)\n        });\n        if (!response.ok) {\n          let errorDetail = `HTTP ${response.status}`;\n          try {\n            const errorData = await response.json();\n            if (errorData.detail) {\n              errorDetail = errorData.detail;\n            }\n          } catch {\n            errorDetail = response.statusText || `HTTP ${response.status}`;\n          }\n          throw new Error(errorDetail);\n        }\n        const data = await response.json();\n        setResult(data);\n        setLoading(false);\n        return data;\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n        console.error('Error in useWaterBudget:', errorMessage);\n        setError(errorMessage);\n        setLoading(false);\n        return null;\n      }\n    };\n    const clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      estimate,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n  exports.useWaterBudget = useWaterBudget;\n});","lineCount":72,"map":[[6,2,7,0],[6,6,7,0,"_react"],[6,12,7,0],[6,15,7,0,"require"],[6,22,7,0],[6,23,7,0,"_dependencyMap"],[6,37,7,0],[7,2,1,0],[8,0,2,0],[9,0,3,0],[10,0,4,0],[11,0,5,0],[13,2,9,0],[13,8,9,6,"API_BASE"],[13,16,9,14],[13,19,9,17,"process"],[13,26,9,24],[13,27,9,25,"env"],[13,30,9,28],[13,31,9,29,"EXPO_PUBLIC_API_BASE"],[13,51,9,49],[13,55,9,53],[13,78,9,76],[15,2,11,0],[17,2,39,0],[18,0,40,0],[19,0,41,0],[20,2,42,7],[20,8,42,13,"useWaterBudget"],[20,22,42,27],[20,25,42,30,"useWaterBudget"],[20,26,42,30],[20,31,42,58],[21,4,43,2],[21,10,43,8],[21,11,43,9,"loading"],[21,18,43,16],[21,20,43,18,"setLoading"],[21,30,43,28],[21,31,43,29],[21,34,43,32],[21,38,43,32,"useState"],[21,53,43,40],[21,55,43,41],[21,60,43,46],[21,61,43,47],[22,4,44,2],[22,10,44,8],[22,11,44,9,"error"],[22,16,44,14],[22,18,44,16,"setError"],[22,26,44,24],[22,27,44,25],[22,30,44,28],[22,34,44,28,"useState"],[22,49,44,36],[22,51,44,52],[22,55,44,56],[22,56,44,57],[23,4,45,2],[23,10,45,8],[23,11,45,9,"result"],[23,17,45,15],[23,19,45,17,"setResult"],[23,28,45,26],[23,29,45,27],[23,32,45,30],[23,36,45,30,"useState"],[23,51,45,38],[23,53,45,67],[23,57,45,71],[23,58,45,72],[24,4,47,2],[24,10,47,8,"estimate"],[24,18,47,16],[24,21,47,19],[24,27,48,4,"request"],[24,34,48,31],[24,38,49,44],[25,6,50,4,"setLoading"],[25,16,50,14],[25,17,50,15],[25,21,50,19],[25,22,50,20],[26,6,51,4,"setError"],[26,14,51,12],[26,15,51,13],[26,19,51,17],[26,20,51,18],[27,6,53,4],[27,10,53,8],[28,8,54,6],[28,14,54,12,"response"],[28,22,54,20],[28,25,54,23],[28,31,54,29,"fetch"],[28,36,54,34],[28,37,54,35],[28,40,54,38,"API_BASE"],[28,48,54,46],[28,67,54,65],[28,69,54,67],[29,10,55,8,"method"],[29,16,55,14],[29,18,55,16],[29,24,55,22],[30,10,56,8,"headers"],[30,17,56,15],[30,19,56,17],[31,12,57,10],[31,26,57,24],[31,28,57,26],[32,10,58,8],[32,11,58,9],[33,10,59,8,"body"],[33,14,59,12],[33,16,59,14,"JSON"],[33,20,59,18],[33,21,59,19,"stringify"],[33,30,59,28],[33,31,59,29,"request"],[33,38,59,36],[34,8,60,6],[34,9,60,7],[34,10,60,8],[35,8,62,6],[35,12,62,10],[35,13,62,11,"response"],[35,21,62,19],[35,22,62,20,"ok"],[35,24,62,22],[35,26,62,24],[36,10,63,8],[36,14,63,12,"errorDetail"],[36,25,63,23],[36,28,63,26],[36,36,63,34,"response"],[36,44,63,42],[36,45,63,43,"status"],[36,51,63,49],[36,53,63,51],[37,10,64,8],[37,14,64,12],[38,12,65,10],[38,18,65,16,"errorData"],[38,27,65,25],[38,30,65,28],[38,36,65,34,"response"],[38,44,65,42],[38,45,65,43,"json"],[38,49,65,47],[38,50,65,48],[38,51,65,49],[39,12,66,10],[39,16,66,14,"errorData"],[39,25,66,23],[39,26,66,24,"detail"],[39,32,66,30],[39,34,66,32],[40,14,67,12,"errorDetail"],[40,25,67,23],[40,28,67,26,"errorData"],[40,37,67,35],[40,38,67,36,"detail"],[40,44,67,42],[41,12,68,10],[42,10,69,8],[42,11,69,9],[42,12,69,10],[42,18,69,16],[43,12,70,10,"errorDetail"],[43,23,70,21],[43,26,70,24,"response"],[43,34,70,32],[43,35,70,33,"statusText"],[43,45,70,43],[43,49,70,47],[43,57,70,55,"response"],[43,65,70,63],[43,66,70,64,"status"],[43,72,70,70],[43,74,70,72],[44,10,71,8],[45,10,72,8],[45,16,72,14],[45,20,72,18,"Error"],[45,25,72,23],[45,26,72,24,"errorDetail"],[45,37,72,35],[45,38,72,36],[46,8,73,6],[47,8,75,6],[47,14,75,12,"data"],[47,18,75,37],[47,21,75,40],[47,27,75,46,"response"],[47,35,75,54],[47,36,75,55,"json"],[47,40,75,59],[47,41,75,60],[47,42,75,61],[48,8,76,6,"setResult"],[48,17,76,15],[48,18,76,16,"data"],[48,22,76,20],[48,23,76,21],[49,8,77,6,"setLoading"],[49,18,77,16],[49,19,77,17],[49,24,77,22],[49,25,77,23],[50,8,78,6],[50,15,78,13,"data"],[50,19,78,17],[51,6,79,4],[51,7,79,5],[51,8,79,6],[51,15,79,13,"err"],[51,18,79,16],[51,20,79,18],[52,8,80,6],[52,14,80,12,"errorMessage"],[52,26,80,24],[52,29,80,27,"err"],[52,32,80,30],[52,44,80,42,"Error"],[52,49,80,47],[52,52,80,50,"err"],[52,55,80,53],[52,56,80,54,"message"],[52,63,80,61],[52,66,80,64],[52,81,80,79],[53,8,81,6,"console"],[53,15,81,13],[53,16,81,14,"error"],[53,21,81,19],[53,22,81,20],[53,48,81,46],[53,50,81,48,"errorMessage"],[53,62,81,60],[53,63,81,61],[54,8,82,6,"setError"],[54,16,82,14],[54,17,82,15,"errorMessage"],[54,29,82,27],[54,30,82,28],[55,8,83,6,"setLoading"],[55,18,83,16],[55,19,83,17],[55,24,83,22],[55,25,83,23],[56,8,84,6],[56,15,84,13],[56,19,84,17],[57,6,85,4],[58,4,86,2],[58,5,86,3],[59,4,88,2],[59,10,88,8,"clearResult"],[59,21,88,19],[59,24,88,22,"clearResult"],[59,25,88,22],[59,30,88,28],[60,6,89,4,"setResult"],[60,15,89,13],[60,16,89,14],[60,20,89,18],[60,21,89,19],[61,6,90,4,"setError"],[61,14,90,12],[61,15,90,13],[61,19,90,17],[61,20,90,18],[62,4,91,2],[62,5,91,3],[63,4,93,2],[63,11,93,9],[64,6,94,4,"estimate"],[64,14,94,12],[65,6,95,4,"loading"],[65,13,95,11],[66,6,96,4,"error"],[66,11,96,9],[67,6,97,4,"result"],[67,12,97,10],[68,6,98,4,"clearResult"],[69,4,99,2],[69,5,99,3],[70,2,100,0],[70,3,100,1],[71,2,100,2,"exports"],[71,9,100,2],[71,10,100,2,"useWaterBudget"],[71,24,100,2],[71,27,100,2,"useWaterBudget"],[71,41,100,2],[72,0,100,2],[72,3]],"functionMap":{"names":["<global>","useWaterBudget","estimate","clearResult"],"mappings":"AAA;8BCyC;mBCK;GDuC;sBEE;GFG;CDS"}},"type":"js/module"}]}